{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/79541220", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/79541220/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/79541220/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v5.2.0", "id": 79541220, "author": {"login": "HeyNonster", "id": 47484308, "node_id": "MDQ6VXNlcjQ3NDg0MzA4", "avatar_url": "https://avatars.githubusercontent.com/u/47484308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HeyNonster", "html_url": "https://github.com/HeyNonster", "followers_url": "https://api.github.com/users/HeyNonster/followers", "following_url": "https://api.github.com/users/HeyNonster/following{/other_user}", "gists_url": "https://api.github.com/users/HeyNonster/gists{/gist_id}", "starred_url": "https://api.github.com/users/HeyNonster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HeyNonster/subscriptions", "organizations_url": "https://api.github.com/users/HeyNonster/orgs", "repos_url": "https://api.github.com/users/HeyNonster/repos", "events_url": "https://api.github.com/users/HeyNonster/events{/privacy}", "received_events_url": "https://api.github.com/users/HeyNonster/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EvbPk", "tag_name": "v5.2.0", "target_commitish": "master", "name": "ActiveRecord Shards v5.2.0", "draft": false, "prerelease": false, "created_at": "2022-10-11T12:54:47Z", "published_at": "2022-10-11T14:22:38Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v5.2.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v5.2.0", "body": "## Added\r\n\r\nSupport for Rails 7.0 when `legacy_connection_handling` is set to `true`. This is required to [opt-out of the native Rails 6.1+ sharding support](https://guides.rubyonrails.org/active_record_multiple_databases.html).\r\n\r\n## Fixed\r\n\r\nRails 6.1 deprecation warnings.\r\n\r\n## Changed\r\n\r\nStarted testing with Ruby 3.1\r\n\r\nFull diff: [v5.1.0...v5.2.0](https://github.com/zendesk/active_record_shards/compare/v5.1.0...v5.2.0)\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/75079990", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/75079990/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/75079990/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v5.1.0", "id": 75079990, "author": {"login": "HeyNonster", "id": 47484308, "node_id": "MDQ6VXNlcjQ3NDg0MzA4", "avatar_url": "https://avatars.githubusercontent.com/u/47484308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HeyNonster", "html_url": "https://github.com/HeyNonster", "followers_url": "https://api.github.com/users/HeyNonster/followers", "following_url": "https://api.github.com/users/HeyNonster/following{/other_user}", "gists_url": "https://api.github.com/users/HeyNonster/gists{/gist_id}", "starred_url": "https://api.github.com/users/HeyNonster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HeyNonster/subscriptions", "organizations_url": "https://api.github.com/users/HeyNonster/orgs", "repos_url": "https://api.github.com/users/HeyNonster/repos", "events_url": "https://api.github.com/users/HeyNonster/events{/privacy}", "received_events_url": "https://api.github.com/users/HeyNonster/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EeaE2", "tag_name": "v5.1.0", "target_commitish": "master", "name": "ActiveRecord Shards v5.1.0", "draft": false, "prerelease": false, "created_at": "2022-08-23T10:41:30Z", "published_at": "2022-08-23T10:47:55Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v5.1.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v5.1.0", "body": "### Added\r\n\r\nSupport for Rails 6.1 when legacy_connection_handling is set to true. This is required to [opt-out of the native Rails 6.1 sharding support](https://guides.rubyonrails.org/active_record_multiple_databases.html).\r\n\r\n**Full Changelog**: https://github.com/zendesk/active_record_shards/compare/v5.0.0...v5.1.0"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353884", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353884/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/71353884/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v5.0.0", "id": 71353884, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EQMYc", "tag_name": "v5.0.0", "target_commitish": "master", "name": " ActiveRecord Shards v5.0.0", "draft": false, "prerelease": false, "created_at": "2022-07-06T10:19:35Z", "published_at": "2022-07-06T10:20:59Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v5.0.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v5.0.0", "body": "### Changed\r\n\r\n- Rename `ActiveRecordShards.rails_env` to `ActiveRecordShards.app_env`, and include `APP_ENV` and `ENV['APP_ENV']` in the list of places it looks for environment information.\r\n- Removed support for Ruby 2.3, 2.4, and 2.5.\r\n- Removed support for Rails 4.2 and 5.0.\r\n\r\n[Deprecation] Removes all deprecated methods containing `master`/`slave`. Use the updated `primary`/`replica` methods instead. The main public methods changed:\r\n\r\n1. `on_slave` => `on_replica`\r\n2. `on_master` => `on_primary`\r\n\r\nother methods changed:\r\n\r\n1. `on_master_if` => `on_primary_if`\r\n2. `on_slave_if` => `on_replica_if`\r\n3. `on_master_unless` => `on_primary_unless`\r\n4. `on_slave_unless` => `on_replica_unless`\r\n5. `on_master_or_slave` => `on_primary_or_replica`\r\n6. `exists_with_default_slave` => `exists_with_default_replica`\r\n7. `from_slave` => `from_replica`\r\n8. `initialize_shard_and_slave` => `initialize_shard_and_replica`\r\n9. `ShardSelection#options` no longer uses `:slave`, if this method was overridden ensure it returns `:replica` instead of `:slave`: `{ shard: .., replica: ... }`\r\n\r\nAlso removes the class `ActiveRecordShards::Deprecation`.\r\n\r\n### Added\r\n\r\nAdd a global setting to disable marking instances from replicas as read-only. To enable:\r\n\r\n`ActiveRecordShards.disable_replica_readonly_records = true`\r\n\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353810", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353810/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/71353810/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.21.0", "id": 71353810, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EQMXS", "tag_name": "v3.21.0", "target_commitish": "master", "name": " ActiveRecord Shards v3.21.0", "draft": false, "prerelease": false, "created_at": "2022-07-05T20:55:07Z", "published_at": "2022-07-06T10:01:35Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.21.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.21.0", "body": "### Added\r\n\r\nAdd a global setting to disable marking instances from replicas as read-only. To enable:\r\n\r\n`ActiveRecordShards.disable_replica_readonly_records = true`\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353807", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353807/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/71353807/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.20.0", "id": 71353807, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EQMXP", "tag_name": "v3.20.0", "target_commitish": "master", "name": " ActiveRecord Shards v3.20.0", "draft": false, "prerelease": false, "created_at": "2022-04-23T15:13:46Z", "published_at": "2022-07-06T10:01:34Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.20.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.20.0", "body": "### Changed\r\n\r\nRename `ActiveRecordShards.rails_env` to `ActiveRecordShards.app_env`, and include `APP_ENV` and `ENV['APP_ENV']` in the list of places it looks for environment information."}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353806", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353806/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/71353806/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.19.3", "id": 71353806, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EQMXO", "tag_name": "v3.19.3", "target_commitish": "master", "name": " ActiveRecord Shards v3.19.3", "draft": false, "prerelease": false, "created_at": "2022-03-04T18:08:16Z", "published_at": "2022-07-06T10:01:33Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.19.3", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.19.3", "body": "### Fixed\r\n\r\nFixed terrible performance when used with Rails 6.0 and having many shards defined in the database configuration.\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353805", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/71353805/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/71353805/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.19.2", "id": 71353805, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84EQMXN", "tag_name": "v3.19.2", "target_commitish": "master", "name": " ActiveRecord Shards v3.19.2", "draft": false, "prerelease": false, "created_at": "2022-02-01T10:39:18Z", "published_at": "2022-07-06T10:01:33Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.19.2", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.19.2", "body": "### Fixed\r\n\r\nFix a bug when the given database configuration was already \"exploded\" with deprecated keys, e.g. `test_slave` or others ending with `_slave`.\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659834", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659834/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/55659834/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.19.1", "id": 55659834, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAKC3p84DUU06", "tag_name": "v3.19.1", "target_commitish": "master", "name": "ActiveRecord Shards v3.19.1", "draft": false, "prerelease": false, "created_at": "2021-09-23T08:34:16Z", "published_at": "2021-12-20T10:59:13Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.19.1", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.19.1", "body": "### Fixed\r\n\r\nConverts the `ActiveRecord::Base.configurations` object introduced in Rails 6 into a hash as expected.\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659831", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659831/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/55659831/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.19.0", "id": 55659831, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTU1NjU5ODMx", "tag_name": "v3.19.0", "target_commitish": "master", "name": "ActiveRecord Shards v3.19.0", "draft": false, "prerelease": false, "created_at": "2021-07-09T07:54:39Z", "published_at": "2021-12-20T10:59:12Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.19.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.19.0", "body": "### Changed / Fixed\r\n\r\nLots of improvements to the `on_replica_by_default` logic, now covered by an improved test suite. Schema loading should now _always_ happen on the replica databases, and non-mutating queries will should now happen on the replica except when `on_replica_by_default` is not configured.\r\n"}
{"url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659829", "assets_url": "https://api.github.com/repos/zendesk/active_record_shards/releases/55659829/assets", "upload_url": "https://uploads.github.com/repos/zendesk/active_record_shards/releases/55659829/assets{?name,label}", "html_url": "https://github.com/zendesk/active_record_shards/releases/tag/v3.18.0", "id": 55659829, "author": {"login": "bquorning", "id": 22333, "node_id": "MDQ6VXNlcjIyMzMz", "avatar_url": "https://avatars.githubusercontent.com/u/22333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bquorning", "html_url": "https://github.com/bquorning", "followers_url": "https://api.github.com/users/bquorning/followers", "following_url": "https://api.github.com/users/bquorning/following{/other_user}", "gists_url": "https://api.github.com/users/bquorning/gists{/gist_id}", "starred_url": "https://api.github.com/users/bquorning/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bquorning/subscriptions", "organizations_url": "https://api.github.com/users/bquorning/orgs", "repos_url": "https://api.github.com/users/bquorning/repos", "events_url": "https://api.github.com/users/bquorning/events{/privacy}", "received_events_url": "https://api.github.com/users/bquorning/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTU1NjU5ODI5", "tag_name": "v3.18.0", "target_commitish": "master", "name": "ActiveRecord Shards v3.18.0", "draft": false, "prerelease": false, "created_at": "2021-06-21T10:57:36Z", "published_at": "2021-12-20T10:59:10Z", "assets": [], "tarball_url": "https://api.github.com/repos/zendesk/active_record_shards/tarball/v3.18.0", "zipball_url": "https://api.github.com/repos/zendesk/active_record_shards/zipball/v3.18.0", "body": "### Changed / Deprecated\r\n\r\nAdds deprecation warning for all methods containing `master`/`slave` which recommends using the updated `primary`/`replica` methods. The main public methods changed:\r\n\r\n1. `on_slave` => `on_replica`\r\n1. `on_master` => `on_primary`\r\n\r\nother methods changed:\r\n\r\n1. `on_master_if` => `on_primary_if`\r\n1. `on_slave_if` => `on_replica_if`\r\n1. `on_master_unless` => `on_primary_unless`\r\n1. `on_slave_unless` => `on_replica_unless`\r\n1. `on_master_or_slave` => `on_primary_or_replica`\r\n1. `exists_with_default_slave` => `exists_with_default_replica`\r\n1. `from_slave` => `from_replica`\r\n1. `initialize_shard_and_slave` => `initialize_shard_and_replica`\r\n1. `ShardSelection#options` no longer uses `:slave`, if this method was overridden ensure it returns `:replica` instead of `:slave`: `{ shard: .., replica: ... }`\r\n\r\nSQL comments (see [debugging](/README.md#debugging)) will now log `... /* replica */` instead of `... /* slave */`\r\n"}
