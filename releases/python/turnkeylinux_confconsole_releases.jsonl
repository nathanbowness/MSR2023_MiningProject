{"url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/23919327", "assets_url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/23919327/assets", "upload_url": "https://uploads.github.com/repos/turnkeylinux/confconsole/releases/23919327/assets{?name,label}", "html_url": "https://github.com/turnkeylinux/confconsole/releases/tag/v2.0.0", "id": 23919327, "author": {"login": "JedMeister", "id": 818633, "node_id": "MDQ6VXNlcjgxODYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/818633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JedMeister", "html_url": "https://github.com/JedMeister", "followers_url": "https://api.github.com/users/JedMeister/followers", "following_url": "https://api.github.com/users/JedMeister/following{/other_user}", "gists_url": "https://api.github.com/users/JedMeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/JedMeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JedMeister/subscriptions", "organizations_url": "https://api.github.com/users/JedMeister/orgs", "repos_url": "https://api.github.com/users/JedMeister/repos", "events_url": "https://api.github.com/users/JedMeister/events{/privacy}", "received_events_url": "https://api.github.com/users/JedMeister/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTIzOTE5MzI3", "tag_name": "v2.0.0", "target_commitish": "master", "name": "Confconsole - Python3", "draft": false, "prerelease": false, "created_at": "2020-02-24T06:23:11Z", "published_at": "2020-02-24T06:27:21Z", "assets": [], "tarball_url": "https://api.github.com/repos/turnkeylinux/confconsole/tarball/v2.0.0", "zipball_url": "https://api.github.com/repos/turnkeylinux/confconsole/zipball/v2.0.0", "body": "This is Confconsole in Python3 (targeted at Debian Buster). It should function identically to v1.1.2, except is ported to Python3.\r\n\r\n<s>Currently this is available only via the `buster-testing` TurnKey apt repository. Assuming testing goes well over the next day or 2, it will also be published to the `buster` TurnKey apt repository.</s>\r\n\r\nCurrently a slightly newer version (tracking the `master` branch of this repo) is available in the `buster` TurnKey apt repository."}
{"url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/21949275", "assets_url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/21949275/assets", "upload_url": "https://uploads.github.com/repos/turnkeylinux/confconsole/releases/21949275/assets{?name,label}", "html_url": "https://github.com/turnkeylinux/confconsole/releases/tag/v1.1.2", "id": 21949275, "author": {"login": "JedMeister", "id": 818633, "node_id": "MDQ6VXNlcjgxODYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/818633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JedMeister", "html_url": "https://github.com/JedMeister", "followers_url": "https://api.github.com/users/JedMeister/followers", "following_url": "https://api.github.com/users/JedMeister/following{/other_user}", "gists_url": "https://api.github.com/users/JedMeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/JedMeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JedMeister/subscriptions", "organizations_url": "https://api.github.com/users/JedMeister/orgs", "repos_url": "https://api.github.com/users/JedMeister/repos", "events_url": "https://api.github.com/users/JedMeister/events{/privacy}", "received_events_url": "https://api.github.com/users/JedMeister/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTIxOTQ5Mjc1", "tag_name": "v1.1.2", "target_commitish": "15.x", "name": "Confconsole - Let's Encrypt fix (take 2)", "draft": false, "prerelease": false, "created_at": "2019-12-04T02:42:42Z", "published_at": "2019-12-04T03:13:54Z", "assets": [{"url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/assets/16578708", "id": 16578708, "node_id": "MDEyOlJlbGVhc2VBc3NldDE2NTc4NzA4", "name": "confconsole_1.1.2_all.deb", "label": null, "uploader": {"login": "JedMeister", "id": 818633, "node_id": "MDQ6VXNlcjgxODYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/818633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JedMeister", "html_url": "https://github.com/JedMeister", "followers_url": "https://api.github.com/users/JedMeister/followers", "following_url": "https://api.github.com/users/JedMeister/following{/other_user}", "gists_url": "https://api.github.com/users/JedMeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/JedMeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JedMeister/subscriptions", "organizations_url": "https://api.github.com/users/JedMeister/orgs", "repos_url": "https://api.github.com/users/JedMeister/repos", "events_url": "https://api.github.com/users/JedMeister/events{/privacy}", "received_events_url": "https://api.github.com/users/JedMeister/received_events", "type": "User", "site_admin": false}, "content_type": "application/vnd.debian.binary-package", "state": "uploaded", "size": 256522, "download_count": 968, "created_at": "2019-12-04T03:12:26Z", "updated_at": "2019-12-04T03:12:29Z", "browser_download_url": "https://github.com/turnkeylinux/confconsole/releases/download/v1.1.2/confconsole_1.1.2_all.deb"}], "tarball_url": "https://api.github.com/repos/turnkeylinux/confconsole/tarball/v1.1.2", "zipball_url": "https://api.github.com/repos/turnkeylinux/confconsole/zipball/v1.1.2", "body": "This is a minor bugfix release based on [v1.1.1](https://github.com/turnkeylinux/confconsole/releases/tag/v1.1.1).\r\n\r\nIt includes all the fixes implemented in v1.1.1, plus this release also resolves https://github.com/turnkeylinux/tracker/issues/1387 - where the add-water server was autostarting at (re)boot.\r\n\r\nNew users, please skip down, straight to the \"How to install/update\" section for instructions (non-root users, please note the relevant section).\r\n\r\n----\r\n__Note for users who have already installed the v1.1.1 fix__:\r\n\r\n If you have already installed v1.1.1 and followed the instructions, you don't need this update. Instead you can just manually disable add-water (as per step 3a in the updated v1.1.1 release notes) like this:\r\n```\r\nsystemctl disable add-water\r\n```\r\nIf you haven't already updated, then please follow these instructions below.\r\n\r\n----\r\n\r\n__Note for non root users__: If you are not logged in as the root user, then many (most? perhaps even all?) of these commands will require `sudo`. Rather than having to do that, the easier path is to first open a root shell like this:\r\n```\r\nsudo su -\r\n```\r\nThen you can follow the commands exactly as posted below. Once you are done, exit the root shell via `exit`.\r\n\r\n----\r\n\r\n__How to install/update__\r\n\r\nAssuming that you have not used Confconsole's Let's Encrypt integration before, or you have used defaults (except for the domains you are registering) then the below should \"just work\". If you have a customised setup then hopefully you'll know what you're doing! :smile:\r\n\r\n1. Remove deprecated files (`confconsole.config` & `confconsole.hook.sh` - also the default cron job):\r\n```\r\nrm -rf /etc/dehydrated/confconsole{.config,.hook.sh}\r\nrm -rf /etc/cron.daily/confconsole-dehydrated\r\n```\r\n2. Install newer Dehydrated version <s>from stretch-backports</s> (backports no longer required, new version now in 'stretch main'):\r\n```\r\napt update\r\napt install dehydrated\r\n```\r\n3. Download and install the updated Confconsole:\r\n```\r\nwget https://github.com/turnkeylinux/confconsole/releases/download/v1.1.2/confconsole_1.1.2_all.deb\r\napt install ./confconsole_1.1.2_all.deb\r\n```\r\n4. [Optional] If you have previously used Confconsole (or Dehydrated) to get Let's Encrypt certificates before, you are recommended to move your old Dehydrated data out of the way (alternatively it can be deleted). **New users can skip this step**: \r\n```\r\nmv /var/lib/dehydrated /var/lib/dehydrated.bak\r\nmkdir -p /var/lib/dehydrated/acme-challenges\r\n```\r\n5. Accept the Let's Encrypt Terms of Service (all users):\r\n```\r\n/usr/bin/dehydrated --register --accept-terms\r\n```\r\n6. Get certs! :smile: \r\n\r\nYou should now be good to go. If you have not used Confconsole to get certificates from Let's Encrypt on this machine previously, it is recommended that you set it up via Confconsole:\r\n```\r\nconfconsole\r\n```\r\nThen select [`Advanced`](https://www.turnkeylinux.org/docs/confconsole#advanced) >> [`Lets encrypt`](https://www.turnkeylinux.org/docs/confconsole/letsencrypt) and follow the prompts. See the full [Confconsole docs](https://www.turnkeylinux.org/docs/confconsole) for further info.\r\n\r\nAlternatively, if you have already been using the Confconsole Let's Encrypt/Dehydrated plugin to get your certificates, but just need to update them, you can launch the `dehydrated-wrapper` script directly like this:\r\n```\r\n/usr/lib/confconsole/plugins.d/Lets_Encrypt/dehydrated-wrapper\r\n```\r\n\r\n----\r\nFurthermore, this will almost certainly be the final release of Confconsole for v15.x (based on Debian 9/Stretch). Future releases of Confconsole will be Python3 based (work already done) and available only in (the upcoming and as yet unreleased) v16.x.\r\n"}
{"url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/21388372", "assets_url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/21388372/assets", "upload_url": "https://uploads.github.com/repos/turnkeylinux/confconsole/releases/21388372/assets{?name,label}", "html_url": "https://github.com/turnkeylinux/confconsole/releases/tag/v1.1.1", "id": 21388372, "author": {"login": "JedMeister", "id": 818633, "node_id": "MDQ6VXNlcjgxODYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/818633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JedMeister", "html_url": "https://github.com/JedMeister", "followers_url": "https://api.github.com/users/JedMeister/followers", "following_url": "https://api.github.com/users/JedMeister/following{/other_user}", "gists_url": "https://api.github.com/users/JedMeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/JedMeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JedMeister/subscriptions", "organizations_url": "https://api.github.com/users/JedMeister/orgs", "repos_url": "https://api.github.com/users/JedMeister/repos", "events_url": "https://api.github.com/users/JedMeister/events{/privacy}", "received_events_url": "https://api.github.com/users/JedMeister/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTIxMzg4Mzcy", "tag_name": "v1.1.1", "target_commitish": "15.x", "name": "Confconsole - Let's Encrypt fix", "draft": false, "prerelease": false, "created_at": "2019-11-11T04:44:34Z", "published_at": "2019-11-25T22:38:08Z", "assets": [{"url": "https://api.github.com/repos/turnkeylinux/confconsole/releases/assets/16102444", "id": 16102444, "node_id": "MDEyOlJlbGVhc2VBc3NldDE2MTAyNDQ0", "name": "confconsole_1.1.1_all.deb", "label": null, "uploader": {"login": "JedMeister", "id": 818633, "node_id": "MDQ6VXNlcjgxODYzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/818633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JedMeister", "html_url": "https://github.com/JedMeister", "followers_url": "https://api.github.com/users/JedMeister/followers", "following_url": "https://api.github.com/users/JedMeister/following{/other_user}", "gists_url": "https://api.github.com/users/JedMeister/gists{/gist_id}", "starred_url": "https://api.github.com/users/JedMeister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JedMeister/subscriptions", "organizations_url": "https://api.github.com/users/JedMeister/orgs", "repos_url": "https://api.github.com/users/JedMeister/repos", "events_url": "https://api.github.com/users/JedMeister/events{/privacy}", "received_events_url": "https://api.github.com/users/JedMeister/received_events", "type": "User", "site_admin": false}, "content_type": "application/vnd.debian.binary-package", "state": "uploaded", "size": 256514, "download_count": 558, "created_at": "2019-11-12T05:14:58Z", "updated_at": "2019-11-12T05:15:01Z", "browser_download_url": "https://github.com/turnkeylinux/confconsole/releases/download/v1.1.1/confconsole_1.1.1_all.deb"}], "tarball_url": "https://api.github.com/repos/turnkeylinux/confconsole/tarball/v1.1.1", "zipball_url": "https://api.github.com/repos/turnkeylinux/confconsole/zipball/v1.1.1", "body": "__Please note that there is a newer bugfix release for v15.x - please see [here](https://github.com/turnkeylinux/confconsole/releases/tag/v1.1.2).__\r\n\r\n----\r\n\r\nThis updated confconsole package is intended for installation on TurnKey v15.x appliances (based on Debian 9/Stretch).\r\n\r\nIt includes fixes for a number of issues related to Let's Encrypt / Dehydrated:\r\n\r\n - Hook script now compatible with (and requires) newer Dehydrated version.\r\n - Uses Let's Encrypt v2 API endpoint by default (v1 API endpoint no longer works with new users/domains; will continue to work for existing users for a little while yet, but better to upgrade ASAP).\r\n - A rewrite of `add-water` (our custom challenge mini-server) - to resolve a race-condition that came to light when used with the updated version of Dehydrated.\r\n\r\nThe related issues that this release closes are  https://github.com/turnkeylinux/tracker/issues/1359 & https://github.com/turnkeylinux/tracker/issues/1360 respectively.\r\n\r\nThis package will be available from the TurnKey repos at some point (which will make installation that little bit easier), but in the meantime, it's also available here.\r\n\r\n----\r\n\r\n__Note for non root users__: If you are not logged in as the root user, then many (most? perhaps even all?) of these commands will require `sudo`. Rather than having to do that, the easier path is to first open a root shell like this:\r\n```\r\nsudo su -\r\n```\r\nThen you can follow the commands exactly as posted below. Once you are done, exit the root shell via `exit`.\r\n\r\n----\r\n\r\nAssuming that you have not used this before, or you have used defaults (except for the domains you are registering) then please follow the below notes to install:\r\n\r\n1. Remove deprecated files:\r\n```\r\nrm -rf /etc/dehydrated/confconsole{.config,.hook.sh}\r\n```\r\n2. Install newer Dehydrated version from stretch-backports (if you already have Dehydrated from backports you can skip this step):\r\n```\r\necho \"deb http://http.debian.net/debian stretch-backports main\" > /etc/apt/sources.list.d/backports.list\r\napt update\r\napt install -t stretch-backports dehydrated\r\n```\r\n3. Download and install the updated Confconsole:\r\n```\r\nwget https://github.com/turnkeylinux/confconsole/releases/download/v1.1.1/confconsole_1.1.1_all.deb\r\napt install ./confconsole_1.1.1_all.deb\r\n```\r\n3a. **[new step!]** Workaround bug https://github.com/turnkeylinux/tracker/issues/1387:\r\n```\r\nsystemctl disable add-water\r\n```\r\n4. [Optional] If you have previously used Confconsole (or Dehydrated) to get Let's Encrypt certificates before, you are recommended to move your old Dehydrated data out of the way (alternatively it can be deleted). **New users can skip this step**: \r\n```\r\nmv /var/lib/dehydrated /var/lib/dehydrated.bak\r\nmkdir -p /var/lib/dehydrated/acme-challenges\r\n```\r\n5. Accept the Let's Encrypt Terms of Service (all users):\r\n```\r\n/usr/bin/dehydrated --register --accept-terms\r\n```\r\n6. Get certs! :smile: \r\n\r\nYou should now be good to go. If you have not used Confconsole to get certificates from Let's Encrypt on this machine previously, it is recommended that you set it up via Confconsole:\r\n```\r\nconfconsole\r\n```\r\nThen select [`Advanced`](https://www.turnkeylinux.org/docs/confconsole#advanced) >> [`Lets encrypt`](https://www.turnkeylinux.org/docs/confconsole/letsencrypt) and follow the prompts. See the full [Confconsole docs](https://www.turnkeylinux.org/docs/confconsole) for further info.\r\n\r\nAlternatively, if you have already been using the Confconsole Let's Encrypt/Dehydrated plugin to get your certificates, but just need to update them, you can launch the `dehydrated-wrapper` script directly like this:\r\n```\r\n/usr/lib/confconsole/plugins.d/Lets_Encrypt/dehydrated-wrapper\r\n```\r\n\r\n----\r\n<s>Furthermore, this will almost certainly be the final release of Confconsole for v15.x (based on Debian 9/Stretch).</s> Please note there is a [bugfix release](https://github.com/turnkeylinux/confconsole/releases/edit/v1.1.2). (And that will almost certainly be the last for v15.x).\r\n\r\nFuture releases of Confconsole will be Python3 based (work already done) and available only in (the upcoming and as yet unreleased) v16.x."}
