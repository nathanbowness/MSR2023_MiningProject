{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/83292078", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/83292078/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/83292078/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.15.0", "id": 83292078, "author": {"login": "dry-bot", "id": 56823541, "node_id": "MDQ6VXNlcjU2ODIzNTQx", "avatar_url": "https://avatars.githubusercontent.com/u/56823541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dry-bot", "html_url": "https://github.com/dry-bot", "followers_url": "https://api.github.com/users/dry-bot/followers", "following_url": "https://api.github.com/users/dry-bot/following{/other_user}", "gists_url": "https://api.github.com/users/dry-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/dry-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dry-bot/subscriptions", "organizations_url": "https://api.github.com/users/dry-bot/orgs", "repos_url": "https://api.github.com/users/dry-bot/repos", "events_url": "https://api.github.com/users/dry-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/dry-bot/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAq3etc4E9u-u", "tag_name": "v0.15.0", "target_commitish": "a7a7ca1b162be9df239ec1bbcc9fbd4607083bd9", "name": "v0.15.0", "draft": false, "prerelease": false, "created_at": "2022-11-16T17:18:59Z", "published_at": "2022-11-16T17:20:11Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.15.0", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.15.0", "body": "<!--- DO NOT EDIT THIS FILE - IT'S AUTOMATICALLY GENERATED VIA DEVTOOLS --->\n\n\n### Changed\n\n- Dependencies were bumped to exclude dry-container (@flash-gordon)\n\n[Compare v0.14.0...v0.15.0](https://github.com/dry-rb/dry-transaction/compare/v0.14.0...v0.15.0)\n", "mentions_count": 1}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/80549822", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/80549822/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/80549822/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.14.0", "id": 80549822, "author": {"login": "dry-bot", "id": 56823541, "node_id": "MDQ6VXNlcjU2ODIzNTQx", "avatar_url": "https://avatars.githubusercontent.com/u/56823541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dry-bot", "html_url": "https://github.com/dry-bot", "followers_url": "https://api.github.com/users/dry-bot/followers", "following_url": "https://api.github.com/users/dry-bot/following{/other_user}", "gists_url": "https://api.github.com/users/dry-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/dry-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dry-bot/subscriptions", "organizations_url": "https://api.github.com/users/dry-bot/orgs", "repos_url": "https://api.github.com/users/dry-bot/repos", "events_url": "https://api.github.com/users/dry-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/dry-bot/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDOAq3etc4EzRe-", "tag_name": "v0.14.0", "target_commitish": "5115b67b1ae9271dc5c0e6c232c9bde65442e82c", "name": "v0.14.0", "draft": false, "prerelease": false, "created_at": "2022-10-21T04:10:39Z", "published_at": "2022-10-21T04:11:47Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.14.0", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.14.0", "body": "<!--- DO NOT EDIT THIS FILE - IT'S AUTOMATICALLY GENERATED VIA DEVTOOLS --->\n\n\n### Changed\n\n- Updated to work with latest dry-events and dry-monads using Zeitwerk for auto-loading (see #142) (@kzaitsev)\n\n[Compare v0.13.3...v0.14.0](https://github.com/dry-rb/dry-transaction/compare/v0.13.3...v0.14.0)\n", "mentions_count": 1}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/44187214", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/44187214/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/44187214/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.13.3", "id": 44187214, "author": {"login": "dry-bot", "id": 56823541, "node_id": "MDQ6VXNlcjU2ODIzNTQx", "avatar_url": "https://avatars.githubusercontent.com/u/56823541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dry-bot", "html_url": "https://github.com/dry-bot", "followers_url": "https://api.github.com/users/dry-bot/followers", "following_url": "https://api.github.com/users/dry-bot/following{/other_user}", "gists_url": "https://api.github.com/users/dry-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/dry-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dry-bot/subscriptions", "organizations_url": "https://api.github.com/users/dry-bot/orgs", "repos_url": "https://api.github.com/users/dry-bot/repos", "events_url": "https://api.github.com/users/dry-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/dry-bot/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTQ0MTg3MjE0", "tag_name": "v0.13.3", "target_commitish": "18af243a5d0b0dca148b8b117d24cf826fa3d06e", "name": "v0.13.3", "draft": false, "prerelease": false, "created_at": "2021-06-07T07:46:32Z", "published_at": "2021-06-07T07:49:01Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.13.3", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.13.3", "body": "<!--- DO NOT EDIT THIS FILE - IT'S AUTOMATICALLY GENERATED VIA DEVTOOLS --->\n\n\n### Fixed\n\n- Fix deprecation warning on Ruby 3.0 when there are empty hash-like args (via #137) (@bestwebua)\n\n\n[Compare v0.13.2...v0.13.3](https://github.com/dry-rb/dry-transaction/compare/v0.13.2...v0.13.3)\n"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/37733803", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/37733803/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/37733803/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.13.2", "id": 37733803, "author": {"login": "dry-bot", "id": 56823541, "node_id": "MDQ6VXNlcjU2ODIzNTQx", "avatar_url": "https://avatars.githubusercontent.com/u/56823541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dry-bot", "html_url": "https://github.com/dry-bot", "followers_url": "https://api.github.com/users/dry-bot/followers", "following_url": "https://api.github.com/users/dry-bot/following{/other_user}", "gists_url": "https://api.github.com/users/dry-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/dry-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dry-bot/subscriptions", "organizations_url": "https://api.github.com/users/dry-bot/orgs", "repos_url": "https://api.github.com/users/dry-bot/repos", "events_url": "https://api.github.com/users/dry-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/dry-bot/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM3NzMzODAz", "tag_name": "v0.13.2", "target_commitish": "91f08bd920435b9ed41ec55c28de0a1dc080256f", "name": "v0.13.2", "draft": false, "prerelease": false, "created_at": "2021-02-08T11:07:37Z", "published_at": "2021-02-08T11:09:35Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.13.2", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.13.2", "body": "<!--- DO NOT EDIT THIS FILE - IT'S AUTOMATICALLY GENERATED VIA DEVTOOLS --->\n\n\n### Fixed\n\n- Re-allow Hash-like parameters to be passed to steps, e.g. `HashWithIndifferentAccess` and other `Hash` subclasses (this was broken with the Ruby 2.7/3.0 fixes in 0.13.1) (@trammel in #136)\n\n\n[Compare v0.13.1...v0.13.2](https://github.com/dry-rb/dry-transaction/compare/v0.13.1...v0.13.2)\n"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/37139029", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/37139029/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/37139029/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.13.1", "id": 37139029, "author": {"login": "dry-bot", "id": 56823541, "node_id": "MDQ6VXNlcjU2ODIzNTQx", "avatar_url": "https://avatars.githubusercontent.com/u/56823541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dry-bot", "html_url": "https://github.com/dry-bot", "followers_url": "https://api.github.com/users/dry-bot/followers", "following_url": "https://api.github.com/users/dry-bot/following{/other_user}", "gists_url": "https://api.github.com/users/dry-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/dry-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dry-bot/subscriptions", "organizations_url": "https://api.github.com/users/dry-bot/orgs", "repos_url": "https://api.github.com/users/dry-bot/repos", "events_url": "https://api.github.com/users/dry-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/dry-bot/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM3MTM5MDI5", "tag_name": "v0.13.1", "target_commitish": "0501477048531babcbdc3abdac8d868e93378c7b", "name": "v0.13.1", "draft": false, "prerelease": false, "created_at": "2021-01-31T11:33:11Z", "published_at": "2021-01-31T11:41:21Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.13.1", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.13.1", "body": "<!--- DO NOT EDIT THIS FILE - IT'S AUTOMATICALLY GENERATED VIA DEVTOOLS --->\n\n\n### Changed\n\n- Resolve Ruby 2.7 deprecation warnings and support Ruby 3.0 (@robbl-as in PR #134)\n\n[Compare v0.13.0...v0.13.1](https://github.com/dry-rb/dry-transaction/compare/v0.13.0...v0.13.1)\n"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/11458604", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/11458604/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/11458604/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.13.0", "id": 11458604, "author": {"login": "timriley", "id": 3134, "node_id": "MDQ6VXNlcjMxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timriley", "html_url": "https://github.com/timriley", "followers_url": "https://api.github.com/users/timriley/followers", "following_url": "https://api.github.com/users/timriley/following{/other_user}", "gists_url": "https://api.github.com/users/timriley/gists{/gist_id}", "starred_url": "https://api.github.com/users/timriley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timriley/subscriptions", "organizations_url": "https://api.github.com/users/timriley/orgs", "repos_url": "https://api.github.com/users/timriley/repos", "events_url": "https://api.github.com/users/timriley/events{/privacy}", "received_events_url": "https://api.github.com/users/timriley/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTExNDU4NjA0", "tag_name": "v0.13.0", "target_commitish": "main", "name": "0.13.0", "draft": false, "prerelease": false, "created_at": "2018-06-13T11:21:07Z", "published_at": "2018-06-13T11:22:23Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.13.0", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.13.0", "body": "# 0.13.0 / 2018-06-13\r\n\r\n## Changed\r\n\r\n- Internal step operations (steps backed by instance methods) can now be replaced via constructor arguments. Using instance methods to wrap external step operations now only works if the step is defined using the `with:` option (timriley in [#109][pr109])\r\n\r\n[Compare v0.12.1...v0.13.0](https://github.com/dry-rb/dry-transaction/compare/v0.12.0...v0.12.1)\r\n\r\n[pr109]: https://github.com/dry-rb/dry-transaction/pull/109"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/9727856", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/9727856/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/9727856/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.11.0", "id": 9727856, "author": {"login": "timriley", "id": 3134, "node_id": "MDQ6VXNlcjMxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timriley", "html_url": "https://github.com/timriley", "followers_url": "https://api.github.com/users/timriley/followers", "following_url": "https://api.github.com/users/timriley/following{/other_user}", "gists_url": "https://api.github.com/users/timriley/gists{/gist_id}", "starred_url": "https://api.github.com/users/timriley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timriley/subscriptions", "organizations_url": "https://api.github.com/users/timriley/orgs", "repos_url": "https://api.github.com/users/timriley/repos", "events_url": "https://api.github.com/users/timriley/events{/privacy}", "received_events_url": "https://api.github.com/users/timriley/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTk3Mjc4NTY=", "tag_name": "v0.11.0", "target_commitish": "main", "name": "0.11.0", "draft": false, "prerelease": false, "created_at": "2018-02-18T23:55:56Z", "published_at": "2018-02-19T00:48:21Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.11.0", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.11.0", "body": "## Added\r\n\r\n- Around steps, which allow control of the execution of subsequently called steps. If you know how middleware works in rack or how around callbacks can be used in RSpec, it's the same. A typical example of usage would be for DB transactions (now first class support!) or controlling side effects: rolling back the changes, cleaning garbage produced by a failed transaction, etc. See a more detailed explanation of how this works [in the PR][pr85] (flash-gordon in [#85][pr85])\r\n- Broadcast when a step has started by sending the event `step_called` (mihairadulescu in [#82][pr82])\r\n- Add new step `check` that returns `Success` or `Failure` base on conditions (semenovDL in [#84][pr84])\r\n- Support for transaction steps without input values (GustavoCaso and timriley in [#69][pr69])\r\n\r\n## Changed\r\n\r\n- [BREAKING] Steps no longer broadcast events with their step name followed by `_success` or `_failure`. Now, more generic names are used for the broadcast events. Before each step runs, a `step` event is broadcast, with the step name and its arguments. After a step runs, a `step_succeeded` or `step_failed` event is broadcast, also with the step name, the arguments and the return value (GustavoCaso in [#83][pr83])\r\n- [BREAKING] Pub/sub support is now handled using [dry-events][dry-events] instead of wisper. Subscriber objects should now respond to `#on_step`, `#on_step_succeeded`, or `#on_step_failed` to receive broadcast events (GustavoCaso in [#90][pr90])\r\n- [BREAKING] The step adapter API has been changed in order to support around steps, although, the changes are not significant. Previously, an adapter received a `step` and a list of arguments for calling the operation. The list was passed as `*args` then you were needed to call `call_operation` on `step` and provide the list. From now on an adapter gets an `operation`, its `options`, and `args` (_without_ `*`). `operation` is an ordinary callable object so a typical call is as simple as `operaiton.(*args)`, that's it. If you want to turn your adapter into an around-like one you need to add `&block` parameter to the list of `call` arguments (e.g. `def call(operation, options, args, &block)`). `block` is responsible for calling the subsequent steps thus you can check or transform the return value and make some decisions based on it. Note capturing the block in the list of arguments is mandatory, a simple `yield` won't work, there are reasons, believe us. Check out the sources of [`around.rb`](https://github.com/dry-rb/dry-transaction/blob/master/lib/dry/transaction/step_adapters/around.rb) for reference, it's dead simple (flash-gordon in [#85][pr85])\r\n- Usages of the `Either` monad was updated with `Result` and its constructors. See [the changes](https://github.com/dry-rb/dry-monads/blob/master/CHANGELOG.md#v040-2017-11-11) in `dry-monads` for more details (flash-gordon in [#81][pr81])\r\n- Minimal Ruby version is 2.2 (flash-gordon in [#72][pr72])\r\n\r\n## Fixed\r\n\r\n- Pass arguments to a step with keyword arguments with default values (flash-gordon in [#74][pr74])\r\n- Steps can be wrapped with private methods (semenovDL in [#70][pr70])\r\n- Improved error message on missing transaction step (Morozzzko in [#79][pr79])\r\n\r\n[Compare v0.10.2...v0.11.0](https://github.com/dry-rb/dry-transaction/compare/v0.10.2...v0.11.0)\r\n\r\n[dry-events]: http://dry-rb.org/gems/dry-events/\r\n[pr69]: https://github.com/dry-rb/dry-transaction/pull/69\r\n[pr70]: https://github.com/dry-rb/dry-transaction/pull/70\r\n[pr72]: https://github.com/dry-rb/dry-transaction/pull/72\r\n[pr74]: https://github.com/dry-rb/dry-transaction/pull/74\r\n[pr79]: https://github.com/dry-rb/dry-transaction/pull/79\r\n[pr81]: https://github.com/dry-rb/dry-transaction/pull/81\r\n[pr82]: https://github.com/dry-rb/dry-transaction/pull/82\r\n[pr83]: https://github.com/dry-rb/dry-transaction/pull/83\r\n[pr84]: https://github.com/dry-rb/dry-transaction/pull/84\r\n[pr85]: https://github.com/dry-rb/dry-transaction/pull/85\r\n[pr90]: https://github.com/dry-rb/dry-transaction/pull/90"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6979833", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6979833/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/6979833/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.10.2", "id": 6979833, "author": {"login": "timriley", "id": 3134, "node_id": "MDQ6VXNlcjMxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timriley", "html_url": "https://github.com/timriley", "followers_url": "https://api.github.com/users/timriley/followers", "following_url": "https://api.github.com/users/timriley/following{/other_user}", "gists_url": "https://api.github.com/users/timriley/gists{/gist_id}", "starred_url": "https://api.github.com/users/timriley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timriley/subscriptions", "organizations_url": "https://api.github.com/users/timriley/orgs", "repos_url": "https://api.github.com/users/timriley/repos", "events_url": "https://api.github.com/users/timriley/events{/privacy}", "received_events_url": "https://api.github.com/users/timriley/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTY5Nzk4MzM=", "tag_name": "v0.10.2", "target_commitish": "main", "name": "0.10.2", "draft": false, "prerelease": false, "created_at": "2017-07-10T03:47:02Z", "published_at": "2017-07-10T03:48:24Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.10.2", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.10.2", "body": "## Fixed\r\n\r\n- Only resolve an operation object from the container if the container reports that the key is present. This prevents exceptions from being raised when using dry-container and defining a transaction that includes steps both container-based and local method steps (jonolsson in [#64][pr64])\r\n\r\n[pr64]: https://github.com/dry-rb/dry-transaction/pull/64"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6886705", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6886705/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/6886705/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.10.1", "id": 6886705, "author": {"login": "timriley", "id": 3134, "node_id": "MDQ6VXNlcjMxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timriley", "html_url": "https://github.com/timriley", "followers_url": "https://api.github.com/users/timriley/followers", "following_url": "https://api.github.com/users/timriley/following{/other_user}", "gists_url": "https://api.github.com/users/timriley/gists{/gist_id}", "starred_url": "https://api.github.com/users/timriley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timriley/subscriptions", "organizations_url": "https://api.github.com/users/timriley/orgs", "repos_url": "https://api.github.com/users/timriley/repos", "events_url": "https://api.github.com/users/timriley/events{/privacy}", "received_events_url": "https://api.github.com/users/timriley/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTY4ODY3MDU=", "tag_name": "v0.10.1", "target_commitish": "main", "name": "0.10.1", "draft": false, "prerelease": false, "created_at": "2017-06-29T23:56:26Z", "published_at": "2017-06-29T23:57:14Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.10.1", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.10.1", "body": "## Fixed\r\n\r\n- Preserve step notification listeners when calling a transaction after passing extra step arguments (jcmfernandes in [#65](https://github.com/dry-rb/dry-transaction/pull/65))\r\n\r\n[Compare v0.10.0...v0.10.1](https://github.com/dry-rb/dry-transaction/compare/v0.10.0...v0.10.1)"}
{"url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6718440", "assets_url": "https://api.github.com/repos/dry-rb/dry-transaction/releases/6718440/assets", "upload_url": "https://uploads.github.com/repos/dry-rb/dry-transaction/releases/6718440/assets{?name,label}", "html_url": "https://github.com/dry-rb/dry-transaction/releases/tag/v0.10.0", "id": 6718440, "author": {"login": "timriley", "id": 3134, "node_id": "MDQ6VXNlcjMxMzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timriley", "html_url": "https://github.com/timriley", "followers_url": "https://api.github.com/users/timriley/followers", "following_url": "https://api.github.com/users/timriley/following{/other_user}", "gists_url": "https://api.github.com/users/timriley/gists{/gist_id}", "starred_url": "https://api.github.com/users/timriley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timriley/subscriptions", "organizations_url": "https://api.github.com/users/timriley/orgs", "repos_url": "https://api.github.com/users/timriley/repos", "events_url": "https://api.github.com/users/timriley/events{/privacy}", "received_events_url": "https://api.github.com/users/timriley/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTY3MTg0NDA=", "tag_name": "v0.10.0", "target_commitish": "main", "name": "0.10.0", "draft": false, "prerelease": false, "created_at": "2017-06-14T23:39:22Z", "published_at": "2017-06-14T23:41:48Z", "assets": [], "tarball_url": "https://api.github.com/repos/dry-rb/dry-transaction/tarball/v0.10.0", "zipball_url": "https://api.github.com/repos/dry-rb/dry-transaction/zipball/v0.10.0", "body": "This release makes major changes to the dry-transaction API: transctions are now defined within your own class, support instance methods for defining or wrapping steps, and operation containers are now optional.\r\n\r\n## Added\r\n\r\n- Added `Dry::Transaction::Operation` convenience mixin. This gives easy access to `Right` and `Left` result builders within your operation objects, and also enables dry-matcher's block-based result matching API for when the operations are called individually. (timriley in [#58](https://github.com/dry-rb/dry-transaction/pull/58))\r\n\r\n    ```ruby\r\n    class MyOperation\r\n      include Dry::Transaction::Operation\r\n\r\n      def call(input)\r\n        Right(input)\r\n      end\r\n    end\r\n\r\n    my_op = MyOperation.new\r\n    my_op.(\"hello\") do |m|\r\n      m.success do |v|\r\n        \"Success: #{v}\r\n      end\r\n      m.failure do |v|\r\n        \"Failure: #{v}\"\r\n      end\r\n    end\r\n    # => \"Success: hello\"\r\n\r\n## Changed\r\n\r\n- [BREAKING] Transactions are now defined within your own classes using a mixin & class-level API for step definitions (GustavoCaso & timriley in [#58](https://github.com/dry-rb/dry-transaction/pull/58))\r\n\r\n    ```ruby\r\n    class CreateUser\r\n      include Dry::Transaction(container: Container)\r\n\r\n      step :process, with: \"operations.process\"\r\n      step :validate, with: \"operations.validate\"\r\n      step :persist, with: \"operations.persist\"\r\n    end\r\n\r\n    create_user = CreateUser.new\r\n    create_user.call(\"name\" => \"Jane Doe\")\r\n    ```\r\n\r\n  Instance methods can wrap operations by calling `super`:\r\n\r\n    ```ruby\r\n    class CreateUser\r\n      include Dry::Transaction(container: Container)\r\n\r\n      step :process, with: \"operations.process\"\r\n      step :validate, with: \"operations.validate\"\r\n      step :persist, with: \"operations.persist\"\r\n\r\n      def process(input)\r\n        adjusted_input = do_something_with(input)\r\n        super(adjusted_input)\r\n      end\r\n    end\r\n    ```\r\n\r\n  Substitute operations can be injected when initializing objects (helpful for testing):\r\n\r\n    ```ruby\r\n    create_user = CreateUser.new(process: substitute_process_operation)\r\n    ```\r\n\r\n- Transactions can be defined without an operations container, using instance methods only.\r\n\r\n    ```ruby\r\n    class CreateUser\r\n      include Dry::Transaction\r\n\r\n      step :process\r\n      step :validate\r\n\r\n      def process(input)\r\n        input = do_something_with(input)\r\n        Right(input)\r\n      end\r\n\r\n      def validate(input)\r\n        if input[:email].include?(\"@\")\r\n          Right(input)\r\n        else\r\n          Left(:not_valid)\r\n        end\r\n      end\r\n    end\r\n    ```\r\n\r\n- [BREAKING] You can no longer extend existing transactions with `#prepend`, `#append`, `#insert`, or `#remove`. Since transactions will now be instances of your own classes, with their own different behaviors, there\u2019s no predictable way to combine the behaviors of two different classes. If you need the ability to add or remove steps, you can create separate transactions for the different behaviours you need to offer, or build into your own transaction class a way to skip steps based on input or step arguments.\r\n- [BREAKING] Blocks in step definitions are no longer accepted. If you want to wrap a step with some local behavior, wrap it with an instance method (see above).\r\n- [BREAKING] There is no longer an option for configuring the result matcher block API - we now use `Dry::Transaction::ResultMatcher` by default. If you want to provide your own matcher, you can do this by overriding `#call` in your transaction classes and using your own matcher when a block is given.\r\n\r\n[Compare v0.9.0...v0.10.0](https://github.com/dry-rb/dry-transaction/compare/v0.9.0...v0.10.0)\r\n"}
