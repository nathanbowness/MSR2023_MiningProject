{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/83300043", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/83300043/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/83300043/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.12-beta.5", "id": 83300043, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4E9w7L", "tag_name": "v0.9.12-beta.5", "target_commitish": "master", "name": "v0.9.12-beta.5", "draft": false, "prerelease": true, "created_at": "2022-11-16T18:33:03Z", "published_at": "2022-11-16T18:36:28Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.12-beta.5", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.12-beta.5", "body": "## Important Notes\r\nThe latency buckets that are used for prometheus metrics have changed to reflect the baseplate spec. If you were using apdex-style queries with harded-coded le= buckets, these buckets will be changing. Let us know if you need help adjusting your queries to account for this.\r\n\r\n## What's Changed\r\n\r\n* `secrets`: Fixed a bug that we no longer wait until `secrets.json` file to become available.\r\n"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/82129761", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/82129761/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/82129761/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.12-beta.4", "id": 82129761, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4E5TNh", "tag_name": "v0.9.12-beta.4", "target_commitish": "master", "name": "v0.9.12-beta.4", "draft": false, "prerelease": true, "created_at": "2022-11-04T20:45:57Z", "published_at": "2022-11-04T20:46:50Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.12-beta.4", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.12-beta.4", "body": "## Important Notes\r\nThe latency buckets that are used for prometheus metrics have changed to reflect the baseplate spec. If you were using apdex-style queries with harded-coded le= buckets, these buckets will be changing. Let us know if you need help adjusting your queries to account for this.\r\n\r\n## What's Changed\r\n* filewatcher: Implement support for directories by @fishy in https://github.com/reddit/baseplate.go/pull/561\r\n* chore: Remove deprecated 'slug' label by @nanassito in https://github.com/reddit/baseplate.go/pull/566\r\n* enable using the baseplate.spec default latency buckets by @ghirsch-reddit in https://github.com/reddit/baseplate.go/pull/567\r\n* Update default Go metrics by @SuperQ in https://github.com/reddit/baseplate.go/pull/564\r\n* Upgrade thrift to 0.17.0 by @fishy in https://github.com/reddit/baseplate.go/pull/570\r\n* breakerbp: Fix prometheus gauge by @fishy in https://github.com/reddit/baseplate.go/pull/571\r\n* Update gRPC metrics to match v2 and spec by @kylelemons in https://github.com/reddit/baseplate.go/pull/572\r\n* feat(secrets): support for csi directories by @Tediferous in https://github.com/reddit/baseplate.go/pull/565\r\n* httpbp: Set http.Server.ErrorLog by @fishy in https://github.com/reddit/baseplate.go/pull/576\r\n* thriftbp: Match thrift client pool metrics to baseplate spec by @fishy in https://github.com/reddit/baseplate.go/pull/577\r\n* [fix] `httpbp` middleware doesn't flush chunked responses by @adamthesax in https://github.com/reddit/baseplate.go/pull/573\r\n* thriftbp+httpbp: Rename the RecoverPanic middlewares by @fishy in https://github.com/reddit/baseplate.go/pull/580\r\n* Export the versions of Go modules linked into the binary by @kylelemons in https://github.com/reddit/baseplate.go/pull/578\r\n* kafkabp: Metrics cleanup by @fishy in https://github.com/reddit/baseplate.go/pull/579\r\n* thriftbp: Metrics cleanup by @fishy in https://github.com/reddit/baseplate.go/pull/581\r\n* Metrics cleanups in other packages by @fishy in https://github.com/reddit/baseplate.go/pull/582\r\n* maxprocs: Print newline after log by @mterwill in https://github.com/reddit/baseplate.go/pull/583\r\n* Make reregistration of prom metrics resilient to v0 + v2 by @kylelemons in https://github.com/reddit/baseplate.go/pull/584\r\n\r\n## New Contributors\r\n* @ghirsch-reddit made their first contribution in https://github.com/reddit/baseplate.go/pull/567\r\n* @Tediferous made their first contribution in https://github.com/reddit/baseplate.go/pull/565\r\n* @adamthesax made their first contribution in https://github.com/reddit/baseplate.go/pull/573\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.11...v0.9.12-beta.4", "mentions_count": 8}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/81706962", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/81706962/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/81706962/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.12-beta.3", "id": 81706962, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4E3r_S", "tag_name": "v0.9.12-beta.3", "target_commitish": "master", "name": "v0.9.12-beta.3", "draft": false, "prerelease": true, "created_at": "2022-11-01T19:25:42Z", "published_at": "2022-11-01T19:30:26Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.12-beta.3", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.12-beta.3", "body": "## Important Notes\r\nThe latency buckets that are used for prometheus metrics have changed to reflect the baseplate spec. If you were using apdex-style queries with harded-coded le= buckets, these buckets will be changing. Let us know if you need help adjusting your queries to account for this.\r\n\r\n## What's Changed\r\n* filewatcher: Implement support for directories by @fishy in https://github.com/reddit/baseplate.go/pull/561\r\n* chore: Remove deprecated 'slug' label by @nanassito in https://github.com/reddit/baseplate.go/pull/566\r\n* enable using the baseplate.spec default latency buckets by @ghirsch-reddit in https://github.com/reddit/baseplate.go/pull/567\r\n* Update default Go metrics by @SuperQ in https://github.com/reddit/baseplate.go/pull/564\r\n* Upgrade thrift to 0.17.0 by @fishy in https://github.com/reddit/baseplate.go/pull/570\r\n* breakerbp: Fix prometheus gauge by @fishy in https://github.com/reddit/baseplate.go/pull/571\r\n* Update gRPC metrics to match v2 and spec by @kylelemons in https://github.com/reddit/baseplate.go/pull/572\r\n* feat(secrets): support for csi directories by @Tediferous in https://github.com/reddit/baseplate.go/pull/565\r\n* httpbp: Set http.Server.ErrorLog by @fishy in https://github.com/reddit/baseplate.go/pull/576\r\n* thriftbp: Match thrift client pool metrics to baseplate spec by @fishy in https://github.com/reddit/baseplate.go/pull/577\r\n* [fix] `httpbp` middleware doesn't flush chunked responses by @adamthesax in https://github.com/reddit/baseplate.go/pull/573\r\n* thriftbp+httpbp: Rename the RecoverPanic middlewares by @fishy in https://github.com/reddit/baseplate.go/pull/580\r\n* Export the versions of Go modules linked into the binary by @kylelemons in https://github.com/reddit/baseplate.go/pull/578\r\n\r\n## New Contributors\r\n* @ghirsch-reddit made their first contribution in https://github.com/reddit/baseplate.go/pull/567\r\n* @Tediferous made their first contribution in https://github.com/reddit/baseplate.go/pull/565\r\n* @adamthesax made their first contribution in https://github.com/reddit/baseplate.go/pull/573\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.11...v0.9.12-beta.3", "mentions_count": 7}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/79076731", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/79076731/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/79076731/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.12-beta.2", "id": 79076731, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Etp17", "tag_name": "v0.9.12-beta.2", "target_commitish": "master", "name": "v0.9.12-beta.2", "draft": false, "prerelease": true, "created_at": "2022-10-05T16:08:26Z", "published_at": "2022-10-05T16:09:07Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.12-beta.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.12-beta.2", "body": "## What's Changed\r\n* filewatcher: Implement support for directories by @fishy in https://github.com/reddit/baseplate.go/pull/561\r\n* chore: Remove deprecated 'slug' label by @nanassito in https://github.com/reddit/baseplate.go/pull/566\r\n* enable using the baseplate.spec default latency buckets by @ghirsch-reddit in https://github.com/reddit/baseplate.go/pull/567\r\n* Update default Go metrics by @SuperQ in https://github.com/reddit/baseplate.go/pull/564\r\n* Upgrade thrift to 0.17.0 by @fishy in https://github.com/reddit/baseplate.go/pull/570\r\n* breakerbp: Fix prometheus gauge by @fishy in https://github.com/reddit/baseplate.go/pull/571\r\n* Update gRPC metrics to match v2 and spec by @kylelemons in https://github.com/reddit/baseplate.go/pull/572\r\n\r\n## New Contributors\r\n* @ghirsch-reddit made their first contribution in https://github.com/reddit/baseplate.go/pull/567\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.11...v0.9.12-beta.2", "mentions_count": 5}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/78002717", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/78002717/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/78002717/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.12-beta.1", "id": 78002717, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Epjod", "tag_name": "v0.9.12-beta.1", "target_commitish": "master", "name": "v0.9.12-beta.1", "draft": false, "prerelease": true, "created_at": "2022-09-23T15:55:34Z", "published_at": "2022-09-23T15:57:05Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.12-beta.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.12-beta.1", "body": "## Important Notes\r\nThe latency buckets that are used for prometheus metrics have changed to reflect the baseplate spec.  If you were using **apdex-style queries** with harded-coded `le=` buckets, these buckets will be changing.  Let us know if you need help adjusting your queries to account for this.\r\n\r\n## What's Changed\r\n* filewatcher: Implement support for directories by @fishy in https://github.com/reddit/baseplate.go/pull/561\r\n* chore: Remove deprecated 'slug' label by @nanassito in https://github.com/reddit/baseplate.go/pull/566\r\n* enable using the baseplate.spec default latency buckets by @ghirsch-reddit in https://github.com/reddit/baseplate.go/pull/567\r\n* Update default Go metrics by @SuperQ in https://github.com/reddit/baseplate.go/pull/564\r\n\r\n## New Contributors\r\n* @ghirsch-reddit made their first contribution in https://github.com/reddit/baseplate.go/pull/567\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.11...v0.9.12-beta.1", "mentions_count": 4}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/75799039", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/75799039/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/75799039/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.11", "id": 75799039, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4EhJn_", "tag_name": "v0.9.11", "target_commitish": "master", "name": "Prometheus Improvements and v2 preparation", "draft": false, "prerelease": false, "created_at": "2022-08-26T23:11:09Z", "published_at": "2022-08-30T16:17:34Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.11", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.11", "body": "## Highlights\r\n* This adds `_client_name` labels in preparation for removal of `_slug` labels per baseplate spec\r\n* Prometheus metrics now include a `baseplate_go` constant metric to provide a path to coexistence of identical v0 and v2 metrics\r\n* New metrics for redis\r\n* More hooks have been added to improve the v2 compatibility layer\r\n\r\n## What's Changed\r\n* feat(prom): Add Prom metrics closer to the BP.spec for Redis clients by @nanassito in https://github.com/reddit/baseplate.go/pull/552\r\n* internal/prometheusbp: Add HighWatermarkValue and HighWatermarkGauge by @fishy in https://github.com/reddit/baseplate.go/pull/554\r\n* Add a global registry that forces a baseplate_go=\"v0\" constant label by @kylelemons in https://github.com/reddit/baseplate.go/pull/555\r\n* Baseplate.spec calls for `<protocol>_client_name` instead of `<protocol>_slug` by @nanassito in https://github.com/reddit/baseplate.go/pull/556\r\n* feat(prom): Implement BP.spec metrics for the pool in redisbp. by @nanassito in https://github.com/reddit/baseplate.go/pull/553\r\n* Move GlobalRegistry from internalv2compat to internal/prometheusbp by @fishy in https://github.com/reddit/baseplate.go/pull/559\r\n* Allow changing the implementation of Interface at run-time by @kylelemons in https://github.com/reddit/baseplate.go/pull/562\r\n\r\n## Important Notes\r\nDuring the rollout of v0.9.12 code, you may see your latencies spike (typically to 30s).  This is a result of the bucket changes that are happening above.  Filter your charts based on your canary or the new replicasets to see the actual data.  This is only a problem when mixing data in the same histogram from two sets of latency buckets and will go away once all replicas are updated.\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.10...v0.9.11", "mentions_count": 3}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/75511019", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/75511019/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/75511019/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.11-beta.3", "id": 75511019, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4EgDTr", "tag_name": "v0.9.11-beta.3", "target_commitish": "master", "name": "Fix a bug if two ecinterface.Interfaces are used", "draft": false, "prerelease": true, "created_at": "2022-08-26T23:11:09Z", "published_at": "2022-08-26T23:12:05Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.11-beta.3", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.11-beta.3", "body": ""}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/75163817", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/75163817/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/75163817/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.11-beta.2", "id": 75163817, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Eeuip", "tag_name": "v0.9.11-beta.2", "target_commitish": "master", "name": "", "draft": false, "prerelease": true, "created_at": "2022-08-23T21:54:22Z", "published_at": "2022-08-23T22:49:05Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.11-beta.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.11-beta.2", "body": ""}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/74665691", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/74665691/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/74665691/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.11-beta.1", "id": 74665691, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Ec07b", "tag_name": "v0.9.11-beta.1", "target_commitish": "master", "name": "Beta release including metrics compatibility with bp.go v2", "draft": false, "prerelease": true, "created_at": "2022-08-17T21:11:38Z", "published_at": "2022-08-17T21:12:32Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.11-beta.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.11-beta.1", "body": ""}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/73669733", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/73669733/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/73669733/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.10", "id": 73669733, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4EZBxl", "tag_name": "v0.9.10", "target_commitish": "master", "name": "v0.9.10", "draft": false, "prerelease": false, "created_at": "2022-08-04T16:36:41Z", "published_at": "2022-08-04T16:42:11Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.10", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.10", "body": "# Changes\r\n\r\n* [`runtimebp`](https://pkg.go.dev/github.com/reddit/baseplate.go/runtimebp): [`GOMAXPROCS`](https://pkg.go.dev/github.com/reddit/baseplate.go/runtimebp#GOMAXPROCS) and [`GOMAXPROCSwithFormula`](https://pkg.go.dev/github.com/reddit/baseplate.go/runtimebp#GOMAXPROCSwithFormula) are deprecated. [`InitFromConfig`](https://pkg.go.dev/github.com/reddit/baseplate.go/runtimebp#InitFromConfig) is changed to set [`GOMAXPROCS`](https://pkg.go.dev/runtime#GOMAXPROCS) with the new Reddit guideline.\r\n* [`baseplate`](https://pkg.go.dev/github.com/reddit/baseplate.go): Added [`StopDelay`](https://pkg.go.dev/github.com/reddit/baseplate.go#Config.StopDelay) to `Config`, with default to 1 second, to mitigate against a race condition during kubernetes graceful shutdown causing client requests being dropped."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/72039517", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/72039517/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/72039517/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.9", "id": 72039517, "author": {"login": "kylelemons", "id": 322213, "node_id": "MDQ6VXNlcjMyMjIxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/322213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylelemons", "html_url": "https://github.com/kylelemons", "followers_url": "https://api.github.com/users/kylelemons/followers", "following_url": "https://api.github.com/users/kylelemons/following{/other_user}", "gists_url": "https://api.github.com/users/kylelemons/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylelemons/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylelemons/subscriptions", "organizations_url": "https://api.github.com/users/kylelemons/orgs", "repos_url": "https://api.github.com/users/kylelemons/repos", "events_url": "https://api.github.com/users/kylelemons/events{/privacy}", "received_events_url": "https://api.github.com/users/kylelemons/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4ESzxd", "tag_name": "v0.9.9", "target_commitish": "master", "name": "v0.9.9", "draft": false, "prerelease": false, "created_at": "2022-07-14T16:53:14Z", "published_at": "2022-07-14T21:04:54Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.9", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.9", "body": "## What's Changed\r\n* runtimebp: Honor GOMAXPROCS environment variable if set by @fishy in https://github.com/reddit/baseplate.go/pull/543\r\n* upgrade log to panic by @migleeson in https://github.com/reddit/baseplate.go/pull/542\r\n* redisbp: Change stale connections metrics to counter by @fishy in https://github.com/reddit/baseplate.go/pull/545\r\n\r\n## New Contributors\r\n* @migleeson made their first contribution in https://github.com/reddit/baseplate.go/pull/542\r\n\r\n**Full Changelog**: https://github.com/reddit/baseplate.go/compare/v0.9.8...v0.9.9", "mentions_count": 2}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/71102534", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/71102534/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/71102534/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.8", "id": 71102534, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4EPPBG", "tag_name": "v0.9.8", "target_commitish": "master", "name": "v0.9.8", "draft": false, "prerelease": false, "created_at": "2022-07-01T20:09:38Z", "published_at": "2022-07-01T20:15:56Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.8", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.8", "body": "# Bug fixes\r\n\r\n- `thrifttest`: Fix bug where Server.Close hangs\r\n- `promtest`: Fix float comparison in CheckDelta\r\n- `thriftbp`: Fix bug that client middlewares don't get the error in IDL (for example, `baseplate.Error`) correctly\r\n\r\n# Other improvements\r\n\r\n- `runtimebp`: Support cgroup v2\r\n- `promtest`: Support non-vec counters/gauges/histograms\r\n- `configbp`: Add `Int64String` to work around helm precision loss issue in yaml files\r\n- `internalv2compat`: A new compat library v2 interpolate"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/69001265", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/69001265/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/69001265/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.7", "id": 69001265, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4EHOAx", "tag_name": "v0.9.7", "target_commitish": "master", "name": "v0.9.7", "draft": false, "prerelease": false, "created_at": "2022-06-08T19:32:24Z", "published_at": "2022-06-08T21:17:43Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.7", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.7", "body": "# Minimal go version\r\n\r\n* Minimal go version is raised to 1.18\r\n\r\n# Deprecations\r\n\r\n* `runtimebp.numProcesses` yaml config is deprecated.\r\n* `thriftbp.AbadonCanceledRequests` server middleware is now deprecated. Services should handle `context.Canceled` error in their own handler function instead. See https://github.com/reddit/baseplate.go/commit/9e6206e55caae67e942864088a509dace484ba03 for more details.\r\n\r\n# Prometheus related changes\r\n\r\n* The go library is updated to latest version.\r\n* Important error counters are \"registered\" to make sure they always emit 0 even when errors never happen.\r\n* Added missing prometheus metrics for `redispipebp`, `redisbp`, `kafkabp` packages.\r\n* `thriftbp`: If a deadline is propagated from client to the, we report the deadline via `thriftbp_server_extracted_deadline_budget_seconds` histogram.\r\n* Some minor label changes to add prefixes.\r\n\r\n# Other changes\r\n\r\n* `thriftbp`: `baseplate.Error` reported in [`InjectServerSpan`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.7/thriftbp#InjectServerSpan) is now wrapped so the error reported to sentry is more readable.\r\n* `log`: When no version is stamped during building, it now auto fallback to vcs info generated by go compiler, if available. See [Go 1.18 release notes](https://go.dev/doc/go1.18#go-version) for more details.\r\n* `redispipebp`: You can now specify the replica policy when constructing the client.\r\n* `filewatcher`: The default file size limit is raised from 1 MiB to 10 MiB.\r\n* `redisx`: `ZPOPMAX` and `ZPOPMIN` commands are now supported.\r\n* `runtimebp`: When a pod is running with cpu request but no cpu limit, we now use physical cpus instead of cpu request to set `GOMAXPROCS`."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/63694231", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/63694231/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/63694231/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.6", "id": 63694231, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Dy-WX", "tag_name": "v0.9.6", "target_commitish": "master", "name": "v0.9.6", "draft": false, "prerelease": false, "created_at": "2022-04-05T20:01:42Z", "published_at": "2022-04-05T22:15:14Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.6", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.6", "body": "- `thriftbp`: The performance of [`ReportPayloadSizeMetrics`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ReportPayloadSizeMetrics) has been hugely improved.\r\n- `thriftbp`: [`ClientPoolConfig.InitialConnectionsFallback`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ClientPoolConfig.InitialConnectionsFallback) has been deprecated, it's always `true` now. To get the old, `false` behavior, use [`ClientPoolConfig.RequiredInitialConnections`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ClientPoolConfig.RequiredInitialConnections).\r\n- `filewatcher`: Change to pull+push mode to fix a bug that it won't work for some ConfigMap configurations.\r\n- `log`: Add [`CounterWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go/log#CounterWrapper).\r\n- all: Eliminate all explicit `log.ErrorWithSentry(-Wrapper)` calls. Those calls now use [`log.DefaultWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go/log#DefaultWrapper) plus a prometheus counter.\r\n- `thriftbp`: Workaround [an envoy bug](https://github.com/envoyproxy/envoy/issues/20595).\r\n"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/61528907", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/61528907/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/61528907/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.5", "id": 61528907, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4DqttL", "tag_name": "v0.9.5", "target_commitish": "master", "name": "v0.9.5", "draft": false, "prerelease": false, "created_at": "2022-03-10T18:23:02Z", "published_at": "2022-03-10T18:46:21Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.5", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.5", "body": "# Prometheus related fixes/improvements:\r\n\r\n* Across Baseplate.go libraries, we are also emitting prometheus metrics for all the statsd metrics we are currently emitting, except the ones from spans, and the one from experiment thriftbp config.\r\n* For http server metrics, we are also emitting with correct `http_endpoint` label set.\r\n* Fix a bug that in thrift server metrics, recovered panics are not treated as errors in prometheus metrics.\r\n* Fix a bug that in thrift server metrics, the reported `thrift_exception_type` label could be wrong/too generic.\r\n* Fix a bug that in thrift server metrics, if the service is using a very old version of baseplate.thrift, `baseplate.Error` exceptions will not be recognized correctly in metrics.\r\n* Add [`prometheusbp.BoolString`](https://pkg.go.dev/github.com/reddit/baseplate.go/prometheusbp#BoolString) and [`metricsbp.BoolString`](https://pkg.go.dev/github.com/reddit/baseplate.go/metricsbp#BoolString) to help services emitting more consistent value for boolean labels/tags.\r\n\r\n# Other fixes/improvements:\r\n\r\n* thrift dependency has been upgraded to v0.16.0.\r\n* `redisx`: Add support to `*string` and `*int64` types.\r\n* Add new [`thriftbp.ServeAdmin`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ServeAdmin) and [`httpbp.ServeAdmin`](https://pkg.go.dev/github.com/reddit/baseplate.go/httpbp#ServeAdmin) functions.\r\n* `runtimebp`: More clear logging from GOMAXPROCS."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/58712158", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/58712158/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/58712158/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.4", "id": 58712158, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4Df-Be", "tag_name": "v0.9.4", "target_commitish": "master", "name": "v0.9.4", "draft": false, "prerelease": false, "created_at": "2022-02-04T17:57:39Z", "published_at": "2022-02-04T18:01:18Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.4", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.4", "body": "# Bug fixes\r\n\r\nThis release contains 2 fixes:\r\n\r\n* A fix for the gauge reported by `thriftbp.ServerConfig.ReportConnectionCount` that's added in `v0.9.3`.\r\n* A fix for connection leak in thrift client pool. This fix has the same effect as the fix in upcoming thrift `v0.16.0` release, but having both fixes is harmless. See [upstream bug][1] for more details.\r\n\r\n[1]: https://issues.apache.org/jira/browse/THRIFT-5509"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/58452331", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/58452331/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/58452331/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.3", "id": 58452331, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4De-lr", "tag_name": "v0.9.3", "target_commitish": "master", "name": "v0.9.3", "draft": false, "prerelease": false, "created_at": "2022-02-01T17:18:23Z", "published_at": "2022-02-01T17:41:37Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.3", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.3", "body": "We retracted `v0.9.2` with this release, so this release note includes changes from both versions:\r\n\r\n# Prometheus\r\n\r\nThe biggest change in this release is the addition of Prometheus support.\r\n\r\nThe following client and server middlewares are added to the packages to emit Prometheus metrics that's comply to Baseplate spec:\r\n\r\n* `thriftbp`: [`PrometheusClientMiddleware`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#PrometheusClientMiddleware) & [`PrometheusServerMiddleware`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#PrometheusServerMiddleware)\r\n* `httpbp`: [`PrometheusClientMetrics`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.2/httpbp#PrometheusClientMetrics) & [`PrometheusServerMetrics`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.2/httpbp#PrometheusServerMetrics)\r\n* `grpcbp`: [`PrometheusUnaryClientInterceptor`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.2/grpcbp#PrometheusUnaryClientInterceptor) & [`InjectPrometheusUnaryServerInterceptor`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.2/grpcbp#InjectPrometheusUnaryServerInterceptor)\r\n\r\nThose middlewares are also added to the default client/server middlewares.\r\n\r\n# Other Changes\r\n\r\n* A new [`detach` package](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.2/detach) is added to create a detached context to be used in goroutines and other cases, and we added support to it in `log` and `tracing` packages from Baseplate.go.\r\n* `httpbp`: Some default server middleware tweaks:\r\n  - `InjectServerSpan` will treat non-5xx errors as successes.\r\n  - Add panic recovery middleware.\r\n  - The order of `SupportedMethods` in the middleware chain is tweaked so we can see unsupported method errors in monitoring middlewares.\r\n  - Add middleware to emit metrics about status codes.\r\n* `httpbp`: The default client middlewares now reports both -with-retry and raw metrics, similar to how `thriftbp`'s default client middlewares work.\r\n* `thriftbp`: Panics are no longer sent to sentry (only logged).\r\n* `thriftbp`: There's a new `thriftbp.ServerConfig.ReportConnectionCount` to report a gauge of the number of connected clients.\r\n"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/57060927", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/57060927/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/57060927/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.2", "id": 57060927, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4DZq4_", "tag_name": "v0.9.2", "target_commitish": "master", "name": "v0.9.2", "draft": false, "prerelease": true, "created_at": "2022-01-13T21:46:16Z", "published_at": "2022-01-13T22:21:20Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.2", "body": "This release was retracted. Please use [`v0.9.3`](https://github.com/reddit/baseplate.go/releases/tag/v0.9.3) or newer releases instead."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/54346194", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/54346194/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/54346194/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.1", "id": 54346194, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4DPUHS", "tag_name": "v0.9.1", "target_commitish": "master", "name": "v0.9.1", "draft": false, "prerelease": false, "created_at": "2021-11-30T17:45:19Z", "published_at": "2021-11-30T17:53:19Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.1", "body": "# Non-breaking changes since `v0.9.0`:\r\n\r\n* Doc updates (0a6da65, 0189544)\r\n* `thriftbp`: [`ClientPool`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ClientPool) improvements regarding client ttl (5ff49d6, aeb1b61)\r\n* [`baseplate.Config.Timeout`](). [`thriftbp.ServerConfig.Timeout`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ServerConfig.Timeout), and top-level yaml config `timeout` are deprecated and no-op now. They will be removed in a future breaking change."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/51399188", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/51399188/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/51399188/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.9.0", "id": 51399188, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "RE_kwDODRbN7s4DEEoU", "tag_name": "v0.9.0", "target_commitish": "master", "name": "v0.9.0", "draft": false, "prerelease": false, "created_at": "2021-10-14T16:58:00Z", "published_at": "2021-10-14T23:35:50Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.9.0", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.9.0", "body": "# Breaking Changes:\r\n\r\n* YAML serialization tags have been updated across the repo:\r\n  - [`breakerbp.Config`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/breakerbp#Config)\r\n  - [`filewatcher.Config`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/filewatcher#Config)\r\n  - [`log.SentryConfig`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#SentryConfig)\r\n  - [`metricsbp.Config`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/metricsbp#Config)\r\n  - [`tracing.Config`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/tracing#Config)\r\n  - [`thriftbp.ClientPoolConfig`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#ClientPoolConfig)\r\n* Some config types are removed and consolidated into the `Config` types:\r\n  - `metricsbp.StatsdConfig`\r\n  - `tracing.TracerConfig`\r\n* `baseplate`: YAML parsing now runs on strict mode\r\n* `baseplate`: `New` is now split into two steps: [`ParseConfigYAML`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0#ParseConfigYAML) and [`New`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0#New).\r\n  - The path to the config file is no longer taken as an arg. Instead it's taken directly from `BASEPLATE_CONFIG_PATH` environment variable.\r\n* `kafkabp`: [`Consumer.IsHealthy`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/kafkabp#Consumer.IsHealthy) now takes an additional `ctx` arg.\r\n* `thriftbp`: [`ClientPool`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#ClientPool) no longer implements [`thrift.TClient`](https://pkg.go.dev/github.com/apache/thrift@v0.15.0/lib/go/thrift#TClient). [`ClientPool.TClient()`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#ClientPool.TClient) is added to return a `thrift.TClient` implementation.\r\n* `redisbp` is now un-deprecated. All redis related packages' import paths\r\n  have been changed:\r\n  - `redisbp`: [`github.com/reddit/baseplate.go/redis/db/redisbp`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/db/redisbp)\r\n  - `redispipebp`: [`github.com/reddit/baseplate.go/redis/cache/redispipebp`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/cache/redispipebp)\r\n  - `redisx`: [`github.com/reddit/baseplate.go/redis/cache/redisx`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/cache/redisx)\r\n* `thriftbp`: Removed `BaseplateErrorCode`.\r\n* `tracing`: UUID related configs have been renamed to [Hex](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/tracing#Config.UseHex).\r\n* `thriftbp`: The string constants for THeader keys have been moved to new [`transport` package](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/transport#pkg-constants) so they can be shared with the newly added `grpcbp` package.\r\n* `log`: [`ZapWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#ZapWrapper)'s args is now [a struct](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#ZapWrapperArgs), and it takes additional kv pairs.\r\n* `redisbp`: `MonitoredCmdable` & `MonitoredCmdableFactory` types are removed. [`NewMonitoredClient`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/db/redisbp#NewMonitoredClient) and [`NewMonitoredFailoverClient`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/db/redisbp#NewMonitoredFailoverClient) are the replacements to create monitored Redis clients.\r\n* The following already deprecated things are now removed:\r\n  - `batchcloser.CloseError`\r\n  - `metricsbp.Config.CounterSampleRate`\r\n  - `retrybp.PoolExhaustedFilter` & `retrybp.UnrecoverableErrorFilter`\r\n  - Untagged metrics from spans\r\n* Minimal supported Go version has been upgraded to 1.17.2.\r\n* Dependency updates:\r\n  - thrift has been upgraded to v0.15.0\r\n  - sentry has been upgraded to v0.11.0\r\n  - go-redis has been upgraded to v8.10.0\r\n    * As a result, all commands require `ctx` arg now.\r\n  - opentracing has been upgraded to v1.2.0\r\n  - sarama has been upgraded to v1.29.1\r\n\r\n# Behavior Changes:\r\n\r\n* `httpbp`&`thriftbp`: The default list of retryable error codes has been updated.\r\n* `tracing`&`events`: The default timeout for sending to message queue has been changed to 0 (non-blocking mode).\r\n* `log`: Default [`Wrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#Wrapper) is now [`ErrorWithSentryWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#ErrorWithSentryWrapper), this can be changed via [`log.DefaultWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#DefaultWrapper) global variable.\r\n* `log`: [`IDLExceptionSuppressor`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#IDLExceptionSuppressor) no longer suppresses `baseplate.Error` with `5xx` code.\r\n\r\n# Non-breaking Changes:\r\n\r\n* `baseplate`: Added [`Drainer`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0#Drainer).\r\n* `mqsend`: Now support non-blocking mode.\r\n* `thriftbp`: Added [`RecoverPanic`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#RecoverPanic) server middleware and added to default list.\r\n* `redisbp`: Added [`ClusterClient.Wait`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/redis/db/redisbp#ClusterClient.Wait).\r\n* `thriftbp`: [`WrapBaseplateError`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#WrapBaseplateError) will avoid double wrapping now.\r\n* `thriftbp`: Fixed a bug that in `ClientPool`, DNS resolution is not part of the configured [`ConnectTimeout`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp#ClientPoolConfig.ConnectTimeout).\r\n* `thriftbp/thrifttest`: Added [`ServerConfig.EdgeContextImpl`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/thriftbp/thrifttest#ServerConfig.EdgeContextImpl).\r\n* `thriftbp`: Added support for User-Agent THeader.\r\n* `breakerbp`: Added [`FailureRatioBreaker.State`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/breakerbp#FailureRatioBreaker.State).\r\n* Added [`iobp`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/iobp) package and [`iobp.CountingSink`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/iobp#CountingSink).\r\n* `log`: We added [`BeforeSend` support for Sentry](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#SentryConfig.BeforeSend) and provided [an implementation](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#SentryBeforeSendSwapExceptionTypeAndValue) to swap the exceptions' type and value for better legibility.\r\n* `thriftbp`: A bug in `TTLClient` that negative `MaxConnectionAge` does not really disable TTL has been fixed.\r\n* `metricsbp`: Fixed a bug that [`Statsd.Close`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/metricsbp#Statsd.Close) does not wait for flushing to finish.\r\n* New [`configbp`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/configbp), [`transport`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/transport) packages are added.\r\n* `log`: [`Attach`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/log#Attach) now attaches both logger and sentry hub.\r\n* `httpbp`: Bugs in [`CircuitBreaker`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/httpbp#CircuitBreaker) client middleware have been fixed (#428).\r\n* Added [`grpcbp` package](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.9.0/grpcbp) to provide server middlewares for grpc."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/43727841", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/43727841/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/43727841/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.8.3", "id": 43727841, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTQzNzI3ODQx", "tag_name": "v0.8.3", "target_commitish": "master", "name": "v0.8.3", "draft": false, "prerelease": false, "created_at": "2021-05-27T20:51:50Z", "published_at": "2021-05-27T20:58:57Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.8.3", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.8.3", "body": "Bug fixes:\r\n\r\n* `thriftbp`: Fix a bug that `WrapBaseplateError` could drop additional info wrapped to `baseplate.Error`.\r\n\r\nNew features:\r\n\r\n* `httpbp`: Add support for [`ClientMiddleware`](https://pkg.go.dev/github.com/reddit/baseplate.go/httpbp#ClientMiddleware).\r\n\r\nOther improvements:\r\n\r\n* `log`: No longer drop pre-init logs."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/42562034", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/42562034/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/42562034/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.8.2", "id": 42562034, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTQyNTYyMDM0", "tag_name": "v0.8.2", "target_commitish": "master", "name": "v0.8.2", "draft": false, "prerelease": false, "created_at": "2021-05-06T18:38:33Z", "published_at": "2021-05-06T18:51:58Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.8.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.8.2", "body": "Bugfixes:\r\n\r\n* `metricsbp`: Fix a race condition in [`Statsd.Close`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.8.2/metricsbp#Statsd.Close).\r\n\r\nImprovements:\r\n\r\n* `thriftbp`: Listen on localhost on unit tests\r\n* `thriftbp`: Add [`WrapBaseplateError`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.8.2/thriftbp#WrapBaseplateError) and [`BaseplateErrorWrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#BaseplateErrorWrapper). `BaseplateErrorWrapper` is also added to [`BaseplateDefaultClientMiddlewares`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#BaseplateDefaultClientMiddlewares).\r\n* `thriftbp`: Add yaml tags to [`ClientPoolConfig`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ClientPoolConfig).\r\n* `log`: For `time.Duration` values, the default encoder is now [`StringDurationEncoder`](https://pkg.go.dev/go.uber.org/zap/zapcore#StringDurationEncoder), so 1 millisecond would show in log as `\"1ms\"` instead of `0.001`.\r\n\r\nDoc improvements:\r\n\r\n* thriftbp: Add doc regarding the [concurrency of client pools](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#example-package-ClientPool).\r\n* tracing: Add more doc and example to [`SpanTypeOption`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.8.2/tracing#SpanTypeOption)."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/40775557", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/40775557/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/40775557/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.8.1", "id": 40775557, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTQwNzc1NTU3", "tag_name": "v0.8.1", "target_commitish": "master", "name": "v0.8.1", "draft": false, "prerelease": false, "created_at": "2021-03-31T17:26:55Z", "published_at": "2021-03-31T17:44:00Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.8.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.8.1", "body": "# New feature:\r\n\r\n- Add healthcheck [binary](https://pkg.go.dev/github.com/reddit/baseplate.go/cmd/healthcheck), it also comes with a [library](https://pkg.go.dev/github.com/reddit/baseplate.go/cmd/lib/healthcheck) so you can build the binary in your own code instead if desired.\r\n\r\n# Other improvements:\r\n\r\n- There were a few configs added to [`tracing.TracerConfig`](https://pkg.go.dev/github.com/reddit/baseplate.go/tracing#TracerConfig) but not [`tracing.Config`](https://pkg.go.dev/github.com/reddit/baseplate.go/tracing#Config) so they cannot be configured through yaml. They are added to `tracing.Config` now:\r\n  * `MaxQueueSize`\r\n  * `UseUUID`\r\n- The types defined in [`timebp`](https://pkg.go.dev/github.com/reddit/baseplate.go/timebp) package now also implement [`encoding.TextMarshaler`](https://pkg.go.dev/encoding#TextMarshaler) and [`encoding.TextUnmarshaler`](https://pkg.go.dev/encoding#TextUnmarshaler) so they can be used beyond json."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/39905931", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/39905931/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/39905931/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.8.0", "id": 39905931, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM5OTA1OTMx", "tag_name": "v0.8.0", "target_commitish": "master", "name": "v0.8.0", "draft": false, "prerelease": false, "created_at": "2021-03-16T17:39:53Z", "published_at": "2021-03-16T20:58:32Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.8.0", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.8.0", "body": "# Deprecated\r\n\r\nThe following are deprecated in `v0.8.0` and will be removed in a future release (likely `v0.9.0`):\r\n\r\n* In `metricsbp`, the global `CounterSampleRate` config is deprecated. There's really not a reason to sample counters globally in Baseplate.go.\r\n* The metrics coming from span hook have been updated according to new Baseplate spec. Currently both the old one and the new one are emitting to avoid breaking dashboards, but the old ones are deprecated and will be removed in the future.\r\n  - `namespace.server.endpoint` is changing to `namespace.baseplate.server.latency` with `endpoint` tag for latency, and `namespace.baseplate.server.rate` with `endpoint` and `success` tags for request numbers.\r\n  - `namespace.client.server.endpoint` is changing to `namespace.baseplate.client.latency` with `client` and `endpoint` tags for latency, and `namespace.baseplate.client.rate` with `endpoint`, `client`, and `success` tags for request numbers.\r\n  - `namespace.local.name` is changing to `namespace.baseplate.local.latency` with `endpoint` tag for latency, and `namespace.baseplate.local.rate` with `endpoint` and `success` tags for number of executions.\r\n* `redisbp` package is deprecated. Please use the new [`redispipebp`](https://pkg.go.dev/github.com/reddit/baseplate.go/redis/redispipebp) and [`redisx`](https://pkg.go.dev/github.com/reddit/baseplate.go/redis/redisx) packages instead. The `redisbp` package is still available for now, with changed import path to `\"github.com/reddit/baseplate.go/redis/deprecated/redisbp\"`.\r\n* `retrybp`: `PoolExhaustedFilter` and `UnrecoverableErrorFilter` are deprecated. They should be replaced by [`RetryableErrorFilter`](https://pkg.go.dev/github.com/reddit/baseplate.go/retrybp#RetryableErrorFilter).\r\n\r\n# Other breaking changes\r\n\r\n* Minimal go version has been updated to 1.16.\r\n* Thrift library and compiler have been upgraded to 0.14.1.\r\n* `retry-go` dependency has been upgraded to 3.0.\r\n* `metricsbp`: The args of [`CounterWithRate`](https://pkg.go.dev/github.com/reddit/baseplate.go/metricsbp#Statsd.CounterWithRate), [`HistogramWithRate`](https://pkg.go.dev/github.com/reddit/baseplate.go/metricsbp#Statsd.HistogramWithRate), and [`TimingWithRate`](https://pkg.go.dev/github.com/reddit/baseplate.go/metricsbp#Statsd.TimingWithRate) have been converted to a struct, and a new feature to report already sampled rate has been added. Here's a simple example:\r\n```go\r\nconst rate = 0.01\r\nif randbp.ShouldSampleWithRate(rate) {\r\n        if err := myFancyWork(); err != nil {\r\n                metricsbp.M.CounterWithRate(metricsbp.RateArgs{\r\n                        Name: \"my.fancy.work.errors\",\r\n                        // 100% report it because we are already sampling it.\r\n                        Rate: 1,\r\n                        // but adjust the reporting rate to the actual sample rate.\r\n                        AlreadySampledAt: metricsbp.Float64Ptr(rate),\r\n                }).Add(1)\r\n        }\r\n}\r\n```\r\n* `tracing`: `LocalComponentOption` is removed. For local spans use `tracing.SpanTypeOption{Type: tracing.SpanTypeLocal}` instead.\r\n* `edgecontext` package is removed. [`ecinterface` package](https://pkg.go.dev/github.com/reddit/baseplate.go/ecinterface) has been introduced to define the interface, and the actual implementation can be found at [`\"github.com/reddit/edgecontext/lib/go/edgecontext\"`](https://pkg.go.dev/github.com/reddit/edgecontext/lib/go/edgecontext). You need to change the args of [`baseplate.New`](https://pkg.go.dev/github.com/reddit/baseplate.go#New) to add the edgecontext implementation:\r\n```go\r\nctx, bp, err := baseplate.New(\r\n\tcontext.Background(),\r\n\tbaseplate.NewArgs{\r\n\t\tConfigPath: *configPath,\r\n\t\tServiceCfg: &cfg,\r\n\t\tEdgeContextFactory: edgecontext.Factory(edgecontext.Config{\r\n\t\t\tLogger: log.ErrorWithSentryWrapper(),\r\n\t\t}),\r\n\t},\r\n)\r\n```\r\n\r\n# Other non-breaking changes\r\n\r\n* `thriftbp`: A new counter, `\"pool-closed-connections\"`, has been added to client pools.\r\n* `retrybp`: Add [`RetryableError`](https://pkg.go.dev/github.com/reddit/baseplate.go/retrybp#RetryableError) interface definition and [`RetryableErrorFilter`](https://pkg.go.dev/github.com/reddit/baseplate.go/retrybp#RetryableErrorFilter) filter implementation. Also add support to generic thrift retryable exceptions.\r\n* `events`&`tracing`: Add `MaxQueueSize` config.\r\n* `log`: Add support for a global version tag for all logs and sentry reports. You can \"stamp\" the git commit hash as the version at build time by using `go build -ldflags \"-X github.com/reddit/baseplate.go/log.Version=$(git rev-parse HEAD)\"`.\r\n* `tracing`: Add support for UUID trace/span ids. Support for UUID ids from downstream services are always turned on, support for generating new ids using UUID is currently opt in by the `UseUUID` config. You should only turn it on if you know all of your upstream services support UUID ids (Baseplate.go v0.8.0+ or Baseplate.py v2.0.0+)."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/36937198", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/36937198/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/36937198/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.7.3", "id": 36937198, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM2OTM3MTk4", "tag_name": "v0.7.3", "target_commitish": "master", "name": "v0.7.3", "draft": false, "prerelease": false, "created_at": "2021-01-26T21:04:11Z", "published_at": "2021-01-26T21:07:28Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.7.3", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.7.3", "body": "# Bug fixes\r\n\r\n- When we added conversion for all `int64` and `uint64` fields in zap to string, we introduced a bug that caused zap logging lost callers (line numbers and call stacks). This bug is fixed.\r\n\r\n# Improvements\r\n\r\n- The metrics reported from [`thriftbp.ReportPayloadSizeMetrics` server middleware](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#ReportPayloadSizeMetrics) will also be tagged with the THeader protocol info."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/36255316", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/36255316/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/36255316/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.7.2", "id": 36255316, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM2MjU1MzE2", "tag_name": "v0.7.2", "target_commitish": "master", "name": "v0.7.2", "draft": false, "prerelease": false, "created_at": "2021-01-12T00:23:11Z", "published_at": "2021-01-12T00:33:53Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.7.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.7.2", "body": "# Bug fixes\r\n\r\n- Although [`thriftbp.SetDeadlineBudget`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#SetDeadlineBudget) was added since `v0.1.0`, there was a bug that it never set the deadline on the wire correctly. It's fixed. A new helper function, [`thriftbp.AddClientHeader`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#AddClientHeader), has also been added to do similar things correctly.\r\n\r\n# Other improvements\r\n\r\n- Added [`thriftbp.IDLExceptionSuppressor`](https://pkg.go.dev/github.com/reddit/baseplate.go/thriftbp#IDLExceptionSuppressor), which is an [`errorsbp.ErrorSuppressor`](https://pkg.go.dev/github.com/reddit/baseplate.go/errorsbp#Suppressor) implementation that can be used to suppress all thrift exceptions defined in IDLs. It's also the new default `ErrorSpanSuppressor` used by thrift clients and servers.\r\n- [`edgecontext`](https://pkg.go.dev/github.com/reddit/baseplate.go/edgecontext) package is using the new [`edgecontext.thrift`](https://github.com/reddit/edgecontext.py/blob/develop/reddit_edgecontext/edgecontext.thrift) now. There should be no visible changes from users."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/35007373", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/35007373/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/35007373/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.7.1", "id": 35007373, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTM1MDA3Mzcz", "tag_name": "v0.7.1", "target_commitish": "master", "name": "v0.7.1", "draft": false, "prerelease": false, "created_at": "2020-12-08T19:25:34Z", "published_at": "2020-12-08T19:56:58Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.7.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.7.1", "body": "# Notable new features\r\n\r\n* New [`kafkabp` package](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/kafkabp) provides kafka consumer implementations, wrapping sarama package with baseplate flavor.\r\n* [`log.Wrapper`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/log#Wrapper) in config structs can be set directly from yaml config file now ([doc](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/log#Wrapper.UnmarshalText)).\r\n* `thriftbp.ClientPoolConfig` added [`Validate`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/thriftbp#ClientPoolConfig.Validate) function to help users validate the errors in the config.\r\n* A new middleware, [`ReportPayloadSizeMetrics`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/thriftbp#ReportPayloadSizeMetrics), has been added to thriftbp's [default server middlewares](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/thriftbp#BaseplateDefaultProcessorMiddlewares). It's by default turned off and can be enabled by passing a non-zero sample rate to the config.\r\n* [`thriftbp` client pool](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/thriftbp#NewBaseplateClientPool) now uses THeader+TCompact protocol by default. All THeader servers should be able to detect and handle them automatically so there should not be any visible changes, but the payload on the wire should be smaller.\r\n\r\n# Other notable bug fixes and improvements:\r\n\r\n* `metricsbp` package will now batch messages together and send fewer UDP messages to statsd collector. Before it sends one UDP message per metric. The batch size can be configured via [`StatsdConfig.BufferSize`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/metricsbp#StatsdConfig).\r\n  - NOTE: When using [telegraf](https://github.com/influxdata/telegraf) as the statsd collector, it's recommended to use [telegraf v1.16.3+](https://github.com/influxdata/telegraf/releases/tag/v1.16.3). Earlier version might have a bug to produce malformed metric lines triggered by this change.\r\n* [`log.Attach`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.1/log#Attach) now can be used to add key-value pairs other than trace id to the context object.\r\n* `filewatcher` had a bug that could cause panic when opening the file failed. The bug was fixed.\r\n* We now auto convert all `int64` and `uint64` log fields to strings, to avoid loss of precision from log ingesters' json parsing."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/32390340", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/32390340/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/32390340/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.7.0", "id": 32390340, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTMyMzkwMzQw", "tag_name": "v0.7.0", "target_commitish": "master", "name": "v0.7.0", "draft": false, "prerelease": false, "created_at": "2020-10-08T22:27:39Z", "published_at": "2020-10-09T20:49:38Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.7.0", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.7.0", "body": "# Breaking changes:\r\n\r\n* [`baseplate.Serve`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0#Serve) function now takes [a struct](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0#ServeArgs) as the arg. This allows users to add additional closers to be closed before and after the server during graceful shutdown.\r\n\r\n* [`randbp.GenerateRandomString`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/randbp#GenerateRandomString) function now takes [a struct](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/randbp#RandomStringArgs) as the arg. This allows users to define the minimal length of the generated random string, and easier default arg fallbacks. See [example](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/randbp#example-GenerateRandomString) for usages.\r\n\r\n* In the yaml config file, the sentry part was previously misspelt as \"setry\", it's now corrected to \"sentry\". If you have customized configs in the sentry portion of your config file, you need to rename \"setry\" into \"sentry\" to make it work in new version of Baseplate.go.\r\n\r\n* [`metricsbp.Timer`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/metricsbp#Timer) type's functions now return self for chaining.\r\n\r\n# Other non-breaking new features and bug fixes:\r\n\r\n* Added [`retrybp.CappedExponentialBackoff`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/retrybp#CappedExponentialBackoff), and make it the default retry policy used by `retrybp` package. It's an exponential backoff retry policy with random jitter and guarantee of no overflow after large number of retries.\r\n\r\n* In json logging, the `trace_id` field is now logged as string instead of uint64. This improves compatibility against some log ingesters that has problem with numbers larger than max signed int64.\r\n\r\n* [`metricsbp.Timer`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/metricsbp#Timer) added [`OverrideStartTime`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/metricsbp#Timer.OverrideStartTime) and [`ObserveWithEndTime`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/metricsbp#Timer.ObserveWithEndTime) functions for overriding start/end times. They are also both chainable.\r\n\r\n* In [`secrets`](https://pkg.go.dev/github.com/reddit/baseplate.go@v0.7.0/secrets) package, using empty secret path now will produce an explicit error.\r\n\r\n* Across Baseplate.go libraries, you'll see better quoted string args in error messages.\r\n\r\n* Dependency updates on thrift and retry packages.\r\n"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/30176865", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/30176865/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/30176865/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.6.1", "id": 30176865, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTMwMTc2ODY1", "tag_name": "v0.6.1", "target_commitish": "master", "name": "v0.6.1", "draft": false, "prerelease": false, "created_at": "2020-08-26T21:23:02Z", "published_at": "2020-08-26T21:29:11Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.6.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.6.1", "body": "# Non-breaking changes:\r\n\r\n* Thrift updates to fix bug and improve connectivity check.\r\n* `log.ErrorWithSentry` now also report the extra key-value information to sentry.\r\n* We also auto report the hostname to sentry now.\r\n* There's now exported `breakerbp.FailureRatioBreaker.Execute` function to be used in non-thrift scenarios.\r\n* Added `errorsbp.Batch.AddPrefix`, deprecate `batchcloser.CloseError`."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/29046680", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/29046680/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/29046680/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.6.0", "id": 29046680, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI5MDQ2Njgw", "tag_name": "v0.6.0", "target_commitish": "master", "name": "v0.6.0", "draft": false, "prerelease": false, "created_at": "2020-07-28T20:23:33Z", "published_at": "2020-07-28T20:41:40Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.6.0", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.6.0", "body": "# Breaking Changes\r\n\r\n## Improvements\r\n\r\n* The (mostly internally used) `log.Wrapper` API now takes `ctx` arg. This makes `log.Wrapper` implementations no longer cast-able into `thrift.Logger`, but `ToThriftLogger` and `log.WrapToThriftLogger` are added to help convert them into `thrift.Logger`. This also happens automatically in `thriftbp.NewBaseplateServer` so for most services you don't have to do anything.\r\n\r\n# Non-breaking Changes\r\n\r\n## Improvements\r\n\r\n- Add `metricsbp.LogWrapper`, which is a `log.Wrapper` implementation that also adds a counter when called. It can be used to keep tracking of errors, for example:\r\n\r\n```go\r\necImpl := edgecontext.Init(edgecontext.Config{\r\n\tStore:  bp.secrets,\r\n\tLogger: metricsbp.LogWrapper(metricsbp.LogWrapperArgs{\r\n\t\tCounter: \"edge-context.jwt-failures\",\r\n\t\tWrapper: log.ErrorWithSentryWrapper(),\r\n\t}),\r\n})\r\n```"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/28807186", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/28807186/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/28807186/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.5.2", "id": 28807186, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI4ODA3MTg2", "tag_name": "v0.5.2", "target_commitish": "master", "name": "v0.5.2", "draft": false, "prerelease": false, "created_at": "2020-07-22T01:08:36Z", "published_at": "2020-07-22T01:13:42Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.5.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.5.2", "body": "# Non-breaking Changes\r\n\r\n## Bug fixes:\r\n\r\n- Fix a bug that `log.ErrorWithSentryWrapper` does not contain stack trace info on Sentry.\r\n\r\n## Improvements\r\n\r\n- Add support for `BaseplateServiceV2` in new [`baseplate.thrift`](https://github.com/reddit/baseplate.py/blob/499295cd66af3cd5debd0547204f8ffcbbed730a/baseplate/thrift/baseplate.thrift)."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/28608260", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/28608260/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/28608260/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.5.1", "id": 28608260, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI4NjA4MjYw", "tag_name": "v0.5.1", "target_commitish": "master", "name": "v0.5.1", "draft": false, "prerelease": false, "created_at": "2020-07-15T21:28:39Z", "published_at": "2020-07-15T22:00:35Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.5.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.5.1", "body": "# Non-breaking Changes\r\n\r\n## Bug fixes:\r\n- Fix a potential infinite recursion in unknown experiment error\r\n- Fix a bug that the retry filters could decide to retry on context deadline exceeded errors when you constructed the filters in the wrong order\r\n\r\n## Improvements:\r\n- You can now add breaker to default thrift client middlewares\r\n- Add a function to publish redisbp connection pool stats"}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/28328267", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/28328267/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/28328267/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.5.0", "id": 28328267, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI4MzI4MjY3", "tag_name": "v0.5.0", "target_commitish": "master", "name": "v0.5.0", "draft": false, "prerelease": false, "created_at": "2020-07-07T19:09:53Z", "published_at": "2020-07-07T20:55:25Z", "assets": [{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/assets/22651082", "id": 22651082, "node_id": "MDEyOlJlbGVhc2VBc3NldDIyNjUxMDgy", "name": "thrift_4db7a0a_linux_amd64", "label": null, "uploader": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "content_type": "application/octet-stream", "state": "uploaded", "size": 56031008, "download_count": 8, "created_at": "2020-07-07T19:17:38Z", "updated_at": "2020-07-07T19:17:58Z", "browser_download_url": "https://github.com/reddit/baseplate.go/releases/download/v0.5.0/thrift_4db7a0a_linux_amd64"}, {"url": "https://api.github.com/repos/reddit/baseplate.go/releases/assets/22651094", "id": 22651094, "node_id": "MDEyOlJlbGVhc2VBc3NldDIyNjUxMDk0", "name": "thrift_4db7a0a_linux_amd64.sha256", "label": null, "uploader": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "content_type": "application/octet-stream", "state": "uploaded", "size": 93, "download_count": 7, "created_at": "2020-07-07T19:17:59Z", "updated_at": "2020-07-07T19:17:59Z", "browser_download_url": "https://github.com/reddit/baseplate.go/releases/download/v0.5.0/thrift_4db7a0a_linux_amd64.sha256"}, {"url": "https://api.github.com/repos/reddit/baseplate.go/releases/assets/22651096", "id": 22651096, "node_id": "MDEyOlJlbGVhc2VBc3NldDIyNjUxMDk2", "name": "thrift_4db7a0a_mac_amd64", "label": null, "uploader": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "content_type": "application/octet-stream", "state": "uploaded", "size": 3902624, "download_count": 22, "created_at": "2020-07-07T19:17:59Z", "updated_at": "2020-07-07T19:18:00Z", "browser_download_url": "https://github.com/reddit/baseplate.go/releases/download/v0.5.0/thrift_4db7a0a_mac_amd64"}, {"url": "https://api.github.com/repos/reddit/baseplate.go/releases/assets/22651098", "id": 22651098, "node_id": "MDEyOlJlbGVhc2VBc3NldDIyNjUxMDk4", "name": "thrift_4db7a0a_mac_amd64.sha256", "label": null, "uploader": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "content_type": "application/octet-stream", "state": "uploaded", "size": 91, "download_count": 9, "created_at": "2020-07-07T19:18:00Z", "updated_at": "2020-07-07T19:18:00Z", "browser_download_url": "https://github.com/reddit/baseplate.go/releases/download/v0.5.0/thrift_4db7a0a_mac_amd64.sha256"}], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.5.0", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.5.0", "body": "# Breaking changes:\r\n\r\n* Some of the metrics were marked as deprecated in previous releases.\r\n  They are removed in this version:\r\n  - `*.fail` counters coming from span hooks.\r\n  - Thrift client pool gauges that's not [`RuntimeGauge`](https://pkg.go.dev/github.com/reddit/baseplate.go/metricsbp?tab=doc#Statsd.RuntimeGauge).\r\n* Starting from this version, Baseplate.go requires service code to use\r\n  Thrift compiler minimal version of [`bcae3bb`](https://github.com/apache/thrift/tree/bcae3bb52f976ce245ad77dfb060e5776d67ce85) (recommended version\r\n  [`4db7a0a`](https://github.com/apache/thrift/tree/4db7a0af13ac9614e3e9758d42b2791040f4dc7e)), until Thrift 0.14.0 is released. Go code compiled from\r\n  Thrift compiler 0.13.0 will be incompatible with new Baseplate.go\r\n  libraries.\r\n  - This change brings us the ability to have a short `SocketTimeout` for\r\n    Thrift client pools, as long as all the client calls use a context\r\n    object with deadline attached.\r\n  - Thrift compiler `4db7a0a` built for 64-bit Linux and Mac are provided\r\n    here for you convenient. If you use homebrew, you can also get it by\r\n    running `brew install --HEAD thrift`."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/28327039", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/28327039/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/28327039/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.4.2", "id": 28327039, "author": {"login": "fishy", "id": 78183, "node_id": "MDQ6VXNlcjc4MTgz", "avatar_url": "https://avatars.githubusercontent.com/u/78183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fishy", "html_url": "https://github.com/fishy", "followers_url": "https://api.github.com/users/fishy/followers", "following_url": "https://api.github.com/users/fishy/following{/other_user}", "gists_url": "https://api.github.com/users/fishy/gists{/gist_id}", "starred_url": "https://api.github.com/users/fishy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fishy/subscriptions", "organizations_url": "https://api.github.com/users/fishy/orgs", "repos_url": "https://api.github.com/users/fishy/repos", "events_url": "https://api.github.com/users/fishy/events{/privacy}", "received_events_url": "https://api.github.com/users/fishy/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI4MzI3MDM5", "tag_name": "v0.4.2", "target_commitish": "master", "name": "v0.4.2", "draft": false, "prerelease": false, "created_at": "2020-07-07T18:30:14Z", "published_at": "2020-07-07T18:47:14Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.4.2", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.4.2", "body": "# Non-breaking changes\r\n\r\n## Bug fixes\r\n\r\n- Fixed a bug in experiment bucketing (#250)\r\n\r\n## New features\r\n\r\n- Added `breakerbp` package, which provides a circuit breaker implementation, with thrift client middleware.\r\n- Added support for Baseplate health check v2."}
{"url": "https://api.github.com/repos/reddit/baseplate.go/releases/27709795", "assets_url": "https://api.github.com/repos/reddit/baseplate.go/releases/27709795/assets", "upload_url": "https://uploads.github.com/repos/reddit/baseplate.go/releases/27709795/assets{?name,label}", "html_url": "https://github.com/reddit/baseplate.go/releases/tag/v0.4.1", "id": 27709795, "author": {"login": "pacejackson", "id": 1929108, "node_id": "MDQ6VXNlcjE5MjkxMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1929108?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacejackson", "html_url": "https://github.com/pacejackson", "followers_url": "https://api.github.com/users/pacejackson/followers", "following_url": "https://api.github.com/users/pacejackson/following{/other_user}", "gists_url": "https://api.github.com/users/pacejackson/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacejackson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacejackson/subscriptions", "organizations_url": "https://api.github.com/users/pacejackson/orgs", "repos_url": "https://api.github.com/users/pacejackson/repos", "events_url": "https://api.github.com/users/pacejackson/events{/privacy}", "received_events_url": "https://api.github.com/users/pacejackson/received_events", "type": "User", "site_admin": false}, "node_id": "MDc6UmVsZWFzZTI3NzA5Nzk1", "tag_name": "v0.4.1", "target_commitish": "master", "name": "v0.4.0 + v0.4.1", "draft": false, "prerelease": false, "created_at": "2020-06-22T18:11:30Z", "published_at": "2020-06-22T18:33:56Z", "assets": [], "tarball_url": "https://api.github.com/repos/reddit/baseplate.go/tarball/v0.4.1", "zipball_url": "https://api.github.com/repos/reddit/baseplate.go/zipball/v0.4.1", "body": "# v0.4.1\r\n\r\n## Non-breaking changes\r\n\r\n### metricsbp\r\n* Add Statsd.RuntimeGauge, this is the gauges we used in RunSysStats. Make it a public API so other\r\ncode can take advantage of it, too.  If you are using `metricsbp.M.Gauge`, it might make sense to move to using `metricsbp.M.RuntimeGauge(...)` but note that it will add `rutime.` to the prefix and add instance+pid tags.\r\n* The Thrift client pool reported gauges are runtime gauges now, the old gauge will be removed in a future version so users should start to update their dashboards/alerts now.\r\n\r\n### thriftbp\r\n* Add support for suppressing errors on Thrift clients. (#241)\r\n\r\n```diff\r\ndiff --git a/client.go b/client.go\r\nindex 53d6183..348ee0f 100644\r\n--- a/client.go\r\n+++ b/client.go\r\n@@ -1,10 +1,12 @@\r\n package auth\r\n \r\n import (\r\n+       \"errors\"\r\n        \"time\"\r\n \r\n        \"github.com/reddit/baseplate.go/errorsbp\"\r\n        \"github.com/reddit/baseplate.go/thriftbp\"\r\n\r\n+       \"github.com/reddit/my-service/thrift/my_service\"\r\n )\r\n \r\n const (\r\n@@ -107,5 +109,10 @@ func (cfg Config) Compile() thriftbp.ClientPoolConfig {\r\n                SocketTimeout:      cfg.SocketTimeout,\r\n                ReportPoolStats:    cfg.PoolStats.Report,\r\n                PoolGaugeInterval:  cfg.PoolStats.GaugeInterval,\r\n+               ErrorSpanSuppressor: func(err error) bool {\r\n+                       var myErr *my_service.MyError\r\n+                       return errors.As(err, &myErr)\r\n+               },\r\n        }\r\n }\r\n```\r\n\r\n# v0.4.0\r\n\r\nThis is a big release with bug fixes, enhancements, and several breaking changes.\r\n\r\n## Bug fixes\r\n\r\n### httpbp\r\n* `httpbp.InjectEdgeRequestContext` middleware was not base64 decoding the edge context header before parsing it, resulting in parsing failures. This has been fixed and should not require any changes to service code. (#236)\r\n\r\n## Breaking changes\r\n\r\n### thriftbp\r\n* The signatures of `NewBaseplateServer`, `NewServer`, and `BaseplateDefaultProcessorMiddlewares` have changed. `NewBaseplateServer` and `NewServer` both use `ServerConfig` as an arg now, and some of the new configuration options are added into ServerConfig struct.  Specifically, `ErrorSpanSuppressor` has been added to allow you to suppress IDL defined errors from being reported as errors when stopping the server span. (#239)\r\n```diff\r\ndiff --git a/main.go b/main.go\r\nindex dca49ac..37a9b9c 100644\r\n--- a/main.go\r\n+++ b/main.go\r\n@@ -2,6 +2,7 @@ package main\r\n \r\n import (\r\n        \"context\"\r\n+       \"errors\"\r\n        \"flag\"\r\n \r\n        \"github.com/go-redis/redis/v7\"\r\n@@ -37,7 +38,13 @@ func main() {\r\n                        redis.NewClusterClient(cfg.Redis.Options()),\r\n                ),\r\n        })\r\n-       server, err := thriftbp.NewBaseplateServer(bp, processor)\r\n+       server, err := thriftbp.NewBaseplateServer(bp, thriftbp.ServerConfig{\r\n+               Processor: processor,\r\n+               ErrorSpanSuppressor: func(err error) bool {\r\n+                       var myErr *my_service.MyError\r\n+                       return errors.As(err, &myErr)\r\n+               },\r\n+       })\r\n        if err != nil {\r\n                log.Fatal(err)\r\n        }\r\ndiff --git a/server/service_test.go b/server/service_test.go\r\nindex a4789f0..664503f 100644\r\n--- a/server/service_test.go\r\n+++ b/server/service_test.go\r\n@@ -44,7 +44,10 @@ func TestMain(m *testing.M) {\r\n                ),\r\n        })\r\n \r\n-       srv, err = thrifttest.NewBaseplateServer(secrets, processor, thrifttest.ServerConfig{})\r\n+       srv, err = thrifttest.NewBaseplateServer(thrifttest.ServerConfig{\r\n+               Processor:   processor,\r\n+               SecretStore: secrets,\r\n+       })\r\n        if err != nil {\r\n                panic(err)\r\n        }\r\n```\r\n\r\n* When creating client pool we now have separated `ConnectTimeout` and `SocketTimeout` on `ClientPoolConfig`. (#232)\r\n\r\n```diff\r\ndiff --git a/foo.go b/foo.go\r\nindex dc894be..53d6183 100644\r\n--- a/foo.go\r\n+++ b/foo.go\r\n@@ -96,6 +103,7 @@ func (cfg Config) Compile() thriftbp.ClientPoolConfig {\r\n                Addr:               \"9090\",\r\n                InitialConnections: 1,\r\n                MaxConnections:     100,\r\n+               ConnectTimeout:     25*time.Millisecond,\r\n                SocketTimeout:      500*time.Millisecond,\r\n                ReportPoolStats:    true,\r\n```\r\n\r\n### httpbp\r\n* When creating the `Endpoint` map for an HTTP server, you are now required to provide the list of allowed HTTP methods for each endpoint. (#227 , #229)\r\n\r\n```diff\r\ndiff --git a/server/service.go b/server/service.go\r\nindex bb13e1f..7eb50a7 100644\r\n--- a/server/service.go\r\n+++ b/server/service.go\r\n@@ -54,18 +54,22 @@ func (s MyService) Endpoints() map[httpbp.Pattern]httpbp.Endpoint {\r\n        return map[httpbp.Pattern]httpbp.Endpoint{\r\n                \"/health\": {\r\n                        Name:   \"is_healthy\",\r\n+                       Methods: []string{http.MethodGet},\r\n                        Handle: s.IsHealthy,\r\n                },\r\n                \"/foo\": {\r\n                        Name:   \"foo\",\r\n+                       Methods: []string{http.MethodPost},\r\n                        Handle: s.Foo,\r\n                },\r\n                \"/foo/bar\": {\r\n                        Name:   \"foo-bar\",\r\n+                       Methods: []string{http.MethodPost},\r\n                        Handle: s.FooBar,\r\n                },\r\n                \"/fizz\": {\r\n                        Name:   \"fizz\",\r\n+                       Methods: []string{http.MethodGet},\r\n                        Handle: s.Fizz,\r\n                },\r\n        }\r\n```\r\n\r\n### metricsbp\r\n* Renamed all the terminology of \u201clabels\u201d into \u201ctags\u201d, this includes all of the types and functions to align with the terminology used in baseplate.py as well as the terminology used by Spans. (#224)\r\n```diff\r\ndiff --git a/foo.go b/foo.go\r\nindex 1970b06..88875d3 100644\r\n--- a/foo.go\r\n+++ b/foo.go\r\n@@ -22,13 +22,13 @@ func MonitorTraffic(name string, next httpbp.HandlerFunc) httpbp.HandlerFunc {\r\n-               tags := metricsbp.Labels{\"foo\": foo}\r\n+               tags := metricsbp.Tags{\"foo\": foo}\r\n \r\n                if bar := r.Header.Get(\"bar\"); bar != \"\" {\r\n                        tags[\"bar\"] = strings.ToLower(bar)\r\n                }\r\n \r\n-               metricsbp.M.Counter(\"traffic\").With(tags.AsStatsdLabels()...).Add(1)\r\n+               metricsbp.M.Counter(\"traffic\").With(tags.AsStatsdTags()...).Add(1)\r\n                return next(ctx, w, r)\r\n        }\r\n }\r\n```\r\n* The sys stats (reported via RunSysStats function) no longer takes customizable tags as the arg. The tags associated with those gauges are now fixed to comply with Baseplate spec. The metrics will also be prefixed with \u201cruntime.\u201d, and \u201cruntime.active_requests\u201d is added. (#224 , #238)\r\n\t* This is not a breaking change in code but you will have to adjust any dashboards/alerts that report these metrics.\r\n\r\n### batcherror -> errorsbp\r\n* The package `batcherror` no longer exists. `batcherror.BatchError` is now renamed into `errorsbp.Batch`. (#239)\r\n\r\n```diff\r\ndiff --git a/foo.go b/foo.go\r\nindex c2705a4..dc894be 100644\r\n--- a/foo.go\r\n+++ b/foo.go\r\n@@ -3,7 +3,7 @@ package foo\r\n import (\r\n-       \"github.com/reddit/baseplate.go/batcherror\"\r\n+       \"github.com/reddit/baseplate.go/errorsbp\"\r\n )\r\n \r\n@@ -46,9 +46,9 @@ func DefaultConfig() Config {\r\n \r\n func (cfg Config) Validate() error {\r\n-       var err batcherror.BatchError\r\n+       var err errorsbp.Batch\r\n        if cfg.Addr == \"\" {\r\n                err.Add(ErrorInvalidConfigValue{\r\n                        Name:  \"Addr\",\r\n```\r\n\r\n\r\n## Non-breaking changes\r\n\r\n### errorsbp\r\n* Added a new type, `errorsbp.Suppressor`, in order to support some of the changes mentioned in `thriftbp` package. (#239)\r\n\r\n### metricsbp\r\n* For the counters that come automatically with Spans, the \u201cfail\u201d counter is called \u201cfailure\u201d now to comply with Baseplate spec. (#224)\r\n\t* Currently we report both for an easier transition, but the \u201cfail\u201d counter will be removed in a future version.\r\n\r\n### thriftbp:\r\n*  `DefaultClientMiddlewareArgs` added new configuration option to suppress certain errors to report in spans. (#239)\r\n* Support the standard Baseplate `Error` struct. (#226)"}
